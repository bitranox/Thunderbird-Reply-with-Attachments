"use strict";(self.webpackChunkrwa_docs=self.webpackChunkrwa_docs||[]).push([[141],{1624:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>t});const i=JSON.parse('{"id":"development","title":"Desenvolvimento","description":"Guia de desenvolvimento","source":"@site/i18n/pt/docusaurus-plugin-content-docs/current/development.md","sourceDirName":".","slug":"/development","permalink":"/Thunderbird-Reply-with-Attachments/pt/docs/development","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1757205965000,"frontMatter":{"id":"development","title":"Desenvolvimento","sidebar_label":"Desenvolvimento"},"sidebar":"docs","previous":{"title":"Permiss\xf5es","permalink":"/Thunderbird-Reply-with-Attachments/pt/docs/permissions"},"next":{"title":"Idiomas","permalink":"/Thunderbird-Reply-with-Attachments/pt/docs/languages"}}');var r=n(4848),o=n(8453);const l={id:"development",title:"Desenvolvimento",sidebar_label:"Desenvolvimento"},a=void 0,d={},t=[{value:"Guia de desenvolvimento",id:"guia-de-desenvolvimento",level:2},{value:"Pr\xe9\u2011requisitos",id:"pr\xe9requisitos",level:3},{value:"Estrutura do projeto (alto n\xedvel)",id:"estrutura-do-projeto-alto-n\xedvel",level:3},{value:"Instala\xe7\xe3o &amp; ferramentas",id:"instala\xe7\xe3o--ferramentas",level:3},{value:"Compilar &amp; empacotar",id:"compilar--empacotar",level:3},{value:"Testes",id:"testes",level:3},{value:"Depura\xe7\xe3o &amp; registos",id:"depura\xe7\xe3o--registos",level:3},{value:"Docs (site)",id:"docs-site",level:3},{value:"Seguran\xe7a &amp; configura\xe7\xe3o",id:"seguran\xe7a--configura\xe7\xe3o",level:3},{value:"Resolu\xe7\xe3o de problemas",id:"resolu\xe7\xe3o-de-problemas",level:3},{value:"CI &amp; cobertura",id:"ci--cobertura",level:3},{value:"Contribuir",id:"contribuir",level:3}];function c(e){const s={code:"code",h2:"h2",h3:"h3",li:"li",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h2,{id:"guia-de-desenvolvimento",children:"Guia de desenvolvimento"}),"\n",(0,r.jsx)(s.h3,{id:"pr\xe9requisitos",children:"Pr\xe9\u2011requisitos"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Node.js 18+ e npm"}),"\n",(0,r.jsx)(s.li,{children:"Thunderbird 128 ESR ou posterior (para testes manuais)"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"estrutura-do-projeto-alto-n\xedvel",children:"Estrutura do projeto (alto n\xedvel)"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Raiz: script de empacotamento ",(0,r.jsx)(s.code,{children:"distribution_zip_packer.sh"}),", docs, capturas"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"sources/"}),": c\xf3digo principal do extra (background, UI de op\xe7\xf5es/janela, manifests, \xedcones)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"tests/"}),": suite Vitest"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"website/"}),": docs Docusaurus (i18n em ",(0,r.jsx)(s.code,{children:"website/i18n/de/..."}),")"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"instala\xe7\xe3o--ferramentas",children:"Instala\xe7\xe3o & ferramentas"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Instalar depend\xeancias de raiz: ",(0,r.jsx)(s.code,{children:"npm ci"})]}),"\n",(0,r.jsxs)(s.li,{children:["Docs (opcional): ",(0,r.jsx)(s.code,{children:"cd website && npm ci"})]}),"\n",(0,r.jsxs)(s.li,{children:["Descobrir alvos: ",(0,r.jsx)(s.code,{children:"make help"})]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"compilar--empacotar",children:"Compilar & empacotar"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Criar ZIPs: ",(0,r.jsx)(s.code,{children:"make pack"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Produz ZIPs ATN e LOCAL na raiz do repo (n\xe3o editar artefactos \xe0 m\xe3o)"}),"\n",(0,r.jsxs)(s.li,{children:["Dica: atualize a vers\xe3o em ",(0,r.jsx)(s.code,{children:"sources/manifest_ATN.json"})," e ",(0,r.jsx)(s.code,{children:"sources/manifest_LOCAL.json"})," antes do empacotamento"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"Instala\xe7\xe3o manual (dev): Thunderbird \u2192 Ferramentas \u2192 Extras e temas \u2192 engrenagem \u2192 Instalar extra a partir de ficheiro\u2026 \u2192 selecione o ZIP criado"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"testes",children:"Testes"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Suite completa: ",(0,r.jsx)(s.code,{children:"make test"})," (Vitest)"]}),"\n",(0,r.jsxs)(s.li,{children:["Cobertura (opcional):","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"npm i -D @vitest/coverage-v8"})}),"\n",(0,r.jsxs)(s.li,{children:["Execute ",(0,r.jsx)(s.code,{children:"make test"}),"; abra ",(0,r.jsx)(s.code,{children:"coverage/index.html"})," para o relat\xf3rio HTML"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Apenas i18n: ",(0,r.jsx)(s.code,{children:"make test-i18n"})," (paridade, placeholders, t\xedtulos)"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"depura\xe7\xe3o--registos",children:"Depura\xe7\xe3o & registos"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Consola de erros: Ferramentas \u2192 Ferramentas de programador \u2192 Consola de erros"}),"\n",(0,r.jsxs)(s.li,{children:["Alternar registos detalhados em runtime:","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Ativar: ",(0,r.jsx)(s.code,{children:"messenger.storage.local.set({ debug: true })"})]}),"\n",(0,r.jsxs)(s.li,{children:["Desativar: ",(0,r.jsx)(s.code,{children:"messenger.storage.local.set({ debug: false })"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"Os registos aparecem ao redigir/enviar respostas"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"docs-site",children:"Docs (site)"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Servidor de dev: ",(0,r.jsx)(s.code,{children:"cd website && npm run start"})]}),"\n",(0,r.jsxs)(s.li,{children:["Construir site est\xe1tico: ",(0,r.jsx)(s.code,{children:"cd website && npm run build"})]}),"\n",(0,r.jsxs)(s.li,{children:["i18n: Ingl\xeas em ",(0,r.jsx)(s.code,{children:"website/docs/*.md"}),"; Alem\xe3o em ",(0,r.jsx)(s.code,{children:"website/i18n/de/docusaurus-plugin-content-docs/current/*.md"})]}),"\n",(0,r.jsxs)(s.li,{children:["Pesquisa: se Algolia DocSearch estiver configurado em CI (",(0,r.jsx)(s.code,{children:"DOCSEARCH_APP_ID"}),", ",(0,r.jsx)(s.code,{children:"DOCSEARCH_API_KEY"}),", ",(0,r.jsx)(s.code,{children:"DOCSEARCH_INDEX_NAME"}),"), o site usa Algolia; caso contr\xe1rio recorre \xe0 pesquisa local. Na p\xe1gina inicial, pressione ",(0,r.jsx)(s.code,{children:"/"})," ou ",(0,r.jsx)(s.code,{children:"Ctrl+K"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"seguran\xe7a--configura\xe7\xe3o",children:"Seguran\xe7a & configura\xe7\xe3o"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["N\xe3o fa\xe7a commit de ",(0,r.jsx)(s.code,{children:"sources/manifest.json"})," (criado temporariamente pela build)"]}),"\n",(0,r.jsxs)(s.li,{children:["Mantenha ",(0,r.jsx)(s.code,{children:"browser_specific_settings.gecko.id"})," est\xe1vel para preservar o canal de atualiza\xe7\xe3o"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"resolu\xe7\xe3o-de-problemas",children:"Resolu\xe7\xe3o de problemas"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Confirme Thunderbird 128 ESR ou posterior"}),"\n",(0,r.jsx)(s.li,{children:"Use a Consola de erros para problemas de runtime"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"ci--cobertura",children:"CI & cobertura"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["GitHub Actions (",(0,r.jsx)(s.code,{children:"CI \u2014 Tests"}),") executa vitest com limites de cobertura (85% linhas/fun\xe7\xf5es/ramifica\xe7\xf5es/declara\xe7\xf5es). Se n\xe3o for atingido, o job falha."]}),"\n",(0,r.jsxs)(s.li,{children:["O workflow carrega o artefacto ",(0,r.jsx)(s.code,{children:"coverage-html"})," com o relat\xf3rio HTML; descarregue da execu\xe7\xe3o (Actions \u2192 \xfaltima execu\xe7\xe3o \u2192 Artifacts)."]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"contribuir",children:"Contribuir"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Veja CONTRIBUTING.md para diretrizes de branches/commits/PR"}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>a});var i=n(6540);const r={},o=i.createContext(r);function l(e){const s=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(o.Provider,{value:s},e.children)}}}]);