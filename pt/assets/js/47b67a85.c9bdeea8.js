"use strict";(self.webpackChunkrwa_docs=self.webpackChunkrwa_docs||[]).push([[141],{1624(e,s,i){i.r(s),i.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>d,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"development","title":"Desenvolvimento","description":"---","source":"@site/i18n/pt/docusaurus-plugin-content-docs/current/development.md","sourceDirName":".","slug":"/development","permalink":"/Thunderbird-Reply-with-Attachments/pt/docs/development","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1757726723000,"frontMatter":{"id":"development","title":"Desenvolvimento","sidebar_label":"Desenvolvimento"},"sidebar":"docs","previous":{"title":"Permiss\xf5es","permalink":"/Thunderbird-Reply-with-Attachments/pt/docs/permissions"},"next":{"title":"Idiomas","permalink":"/Thunderbird-Reply-with-Attachments/pt/docs/languages"}}');var r=i(4848),l=i(8453);const d={id:"development",title:"Desenvolvimento",sidebar_label:"Desenvolvimento"},a=void 0,c={},o=[{value:"Guia de Desenvolvimento",id:"development-guide",level:2},{value:"Pr\xe9-requisitos",id:"prerequisites",level:3},{value:"Estrutura do Projeto (alto n\xedvel)",id:"project-layout-high-level",level:3},{value:"Instala\xe7\xe3o e Ferramentas",id:"install-and-tooling",level:3},{value:"Desenvolvimento ao vivo (web\u2011ext run)",id:"live-dev-web-ext",level:3},{value:"Alvos do Make (Alfab\xe9tico)",id:"make-targets-alphabetical",level:3},{value:"Dicas de compila\xe7\xe3o de locale",id:"locale-build-tips",level:4},{value:"Compilar e Empacotar",id:"build-and-package",level:3},{value:"Testes",id:"test",level:3},{value:"Depura\xe7\xe3o e Logs",id:"debugging-and-logs",level:3},{value:"Documenta\xe7\xe3o (website)",id:"docs-website",level:3},{value:"Rota de redirecionamento de doa\xe7\xe3o",id:"donate-redirect",level:4},{value:"Dicas de pr\xe9\u2011visualiza\xe7\xe3o",id:"preview-tips",level:4},{value:"Traduzir o Website",id:"translate-website",level:4},{value:"Dicas de Seguran\xe7a e Configura\xe7\xe3o",id:"security-and-configuration-tips",level:3},{value:"Persist\xeancia das Defini\xe7\xf5es",id:"settings-persistence",level:3},{value:"Resolu\xe7\xe3o de Problemas",id:"troubleshooting",level:3},{value:"CI e Cobertura",id:"ci-and-coverage",level:3},{value:"Contribui\xe7\xe3o",id:"contributing",level:3},{value:"Tradu\xe7\xf5es",id:"tradu\xe7\xf5es",level:3},{value:"clean",id:"mt-clean",level:4},{value:"commit",id:"mt-commit",level:4},{value:"eslint",id:"mt-eslint",level:4},{value:"help",id:"mt-help",level:4},{value:"lint",id:"mt-lint",level:4},{value:"menu",id:"mt-menu",level:4},{value:"pack",id:"mt-pack",level:4},{value:"prettier",id:"mt-prettier",level:4},{value:"prettier_check",id:"mt-prettier_check",level:4},{value:"prettier_write",id:"mt-prettier_write",level:4},{value:"test",id:"mt-test",level:4},{value:"test_i18n",id:"mt-test_i18n",level:4},{value:"translate_app / translation_app",id:"mt-translation-app",level:4},{value:"translate_web_docs_batch / translate_web_docs_sync",id:"mt-translation-web",level:4},{value:"translate_web_index / translation_web_index",id:"mt-translation_web_index",level:4},{value:"web_build",id:"mt-web_build",level:4},{value:"web_build_linkcheck",id:"mt-web_build_linkcheck",level:4},{value:"web_build_local_preview",id:"mt-web_build_local_preview",level:4},{value:"web_push_github",id:"mt-web_push_github",level:4}];function t(e){const s={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"development-guide",children:"Guia de Desenvolvimento"}),"\n",(0,r.jsx)(s.admonition,{title:"Editar apenas em ingl\xeas; as tradu\xe7\xf5es s\xe3o propagadas",type:"note",children:(0,r.jsxs)(s.p,{children:["Atualize a documenta\xe7\xe3o apenas em ",(0,r.jsx)(s.code,{children:"website/docs"})," (Ingl\xeas). As tradu\xe7\xf5es em ",(0,r.jsx)(s.code,{children:"website/i18n/<locale>/\u2026"})," s\xe3o geradas e n\xe3o devem ser editadas manualmente. Use as tarefas de tradu\xe7\xe3o (por exemplo, ",(0,r.jsx)(s.code,{children:"make translate_web_docs_batch"}),") para atualizar o conte\xfado localizado."]})}),"\n",(0,r.jsx)(s.h3,{id:"prerequisites",children:"Pr\xe9-requisitos"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Node.js 22+ e npm (testado com Node 22)"}),"\n",(0,r.jsx)(s.li,{children:"Thunderbird 128 ESR ou mais recente (para testes manuais)"}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"project-layout-high-level",children:"Estrutura do Projeto (alto n\xedvel)"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Raiz: script de empacotamento ",(0,r.jsx)(s.code,{children:"distribution_zip_packer.sh"}),", docs, screenshots"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"sources/"}),": c\xf3digo principal do add\u2011on (background, UI de op\xe7\xf5es/popup, manifests, \xedcones)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"tests/"}),": suite Vitest"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"website/"}),": docs Docusaurus (com i18n em ",(0,r.jsx)(s.code,{children:"website/i18n/de/..."}),")"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"install-and-tooling",children:"Instala\xe7\xe3o e Ferramentas"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Instalar deps na raiz: ",(0,r.jsx)(s.code,{children:"npm ci"})]}),"\n",(0,r.jsxs)(s.li,{children:["Docs (opcional): ",(0,r.jsx)(s.code,{children:"cd website && npm ci"})]}),"\n",(0,r.jsxs)(s.li,{children:["Descobrir alvos: ",(0,r.jsx)(s.code,{children:"make help"})]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"live-dev-web-ext",children:"Desenvolvimento ao vivo (web\u2011ext run)"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Ciclo r\xe1pido no Firefox Desktop (apenas smoke tests de UI):"}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"npx web-ext run --source-dir sources --target=firefox-desktop"})}),"\n",(0,r.jsx)(s.li,{children:"Executar no Thunderbird (preferido para MailExtensions):"}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:'npx web-ext run --source-dir sources --start-url about:addons --firefox-binary "$(command -v thunderbird || echo /path/to/thunderbird)"'})}),"\n",(0,r.jsx)(s.li,{children:"Dicas:"}),"\n",(0,r.jsx)(s.li,{children:"Mantenha a Consola de Erros do Thunderbird aberta (Tools \u2192 Developer Tools \u2192 Error Console)."}),"\n",(0,r.jsx)(s.li,{children:"As p\xe1ginas de eventos MV3 s\xe3o suspensas quando inativas; recarregue o add\u2011on ap\xf3s altera\xe7\xf5es de c\xf3digo ou deixe o web\u2011ext recarregar automaticamente."}),"\n",(0,r.jsx)(s.li,{children:"Alguns comportamentos exclusivos do Firefox diferem; verifique sempre no Thunderbird para garantir paridade de API."}),"\n",(0,r.jsx)(s.li,{children:"Caminhos do bin\xe1rio do Thunderbird (exemplos):"}),"\n",(0,r.jsxs)(s.li,{children:["Linux: ",(0,r.jsx)(s.code,{children:"thunderbird"})," (por exemplo, ",(0,r.jsx)(s.code,{children:"/usr/bin/thunderbird"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:["macOS: ",(0,r.jsx)(s.code,{children:"/Applications/Thunderbird.app/Contents/MacOS/thunderbird"})]}),"\n",(0,r.jsxs)(s.li,{children:["Windows: ",(0,r.jsx)(s.code,{children:'"C:\\\\Program Files\\\\Mozilla Thunderbird\\\\thunderbird.exe"'})]}),"\n",(0,r.jsx)(s.li,{children:"Isolamento de perfil: Use um perfil separado do Thunderbird para desenvolvimento para evitar impactar a sua configura\xe7\xe3o di\xe1ria."}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"make-targets-alphabetical",children:"Alvos do Make (Alfab\xe9tico)"}),"\n",(0,r.jsxs)(s.p,{children:["O Makefile padroniza fluxos comuns de desenvolvimento. Execute ",(0,r.jsx)(s.code,{children:"make help"})," a qualquer momento para um resumo em uma linha de cada alvo."]}),"\n",(0,r.jsxs)(s.p,{children:["Dica: executar ",(0,r.jsx)(s.code,{children:"make"})," sem alvo abre um menu Whiptail simples para escolher um alvo."]}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Target"}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o em uma linha"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#mt-clean",children:(0,r.jsx)(s.code,{children:"clean"})})}),(0,r.jsx)(s.td,{children:"Remove artefactos locais de build/preview (tmp/, web-local-preview/, website/build/)."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#mt-commit",children:(0,r.jsx)(s.code,{children:"commit"})})}),(0,r.jsx)(s.td,{children:"Formata, executa testes (incl. i18n), atualiza changelog, faz commit e push."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#mt-eslint",children:(0,r.jsx)(s.code,{children:"eslint"})})}),(0,r.jsxs)(s.td,{children:["Executa ESLint via configura\xe7\xe3o flat (",(0,r.jsx)(s.code,{children:"npm run -s lint:eslint"}),")."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#mt-help",children:(0,r.jsx)(s.code,{children:"help"})})}),(0,r.jsx)(s.td,{children:"Lista todos os alvos com docs de uma linha (ordenados)."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#mt-lint",children:(0,r.jsx)(s.code,{children:"lint"})})}),(0,r.jsxs)(s.td,{children:["web\u2011ext lint em ",(0,r.jsx)(s.code,{children:"sources/"})," (manifesto tempor\xe1rio; ignora ZIPs; n\xe3o fatal)."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#mt-menu",children:(0,r.jsx)(s.code,{children:"menu"})})}),(0,r.jsx)(s.td,{children:"Menu interativo para selecionar um alvo e argumentos opcionais."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#mt-pack",children:(0,r.jsx)(s.code,{children:"pack"})})}),(0,r.jsx)(s.td,{children:"Constr\xf3i ZIPs ATN e LOCAL (executa o linter; chama o script de empacotamento)."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#mt-prettier",children:(0,r.jsx)(s.code,{children:"prettier"})})}),(0,r.jsx)(s.td,{children:"Formata o reposit\xf3rio no local (escreve altera\xe7\xf5es)."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#mt-prettier_check",children:(0,r.jsx)(s.code,{children:"prettier_check"})})}),(0,r.jsx)(s.td,{children:"Prettier em modo verifica\xe7\xe3o (sem escrita); falha se precisar de reformatar."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#mt-prettier_write",children:(0,r.jsx)(s.code,{children:"prettier_write"})})}),(0,r.jsxs)(s.td,{children:["Alias para ",(0,r.jsx)(s.code,{children:"prettier"}),"."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#mt-test",children:(0,r.jsx)(s.code,{children:"test"})})}),(0,r.jsx)(s.td,{children:"Prettier (escrever), ESLint e depois Vitest (cobertura se configurada)."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#mt-test_i18n",children:(0,r.jsx)(s.code,{children:"test_i18n"})})}),(0,r.jsx)(s.td,{children:"Testes apenas de i18n: placeholders/paridade do add\u2011on + paridade do website."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#mt-translation-app",children:(0,r.jsx)(s.code,{children:"translate_app"})})}),(0,r.jsxs)(s.td,{children:["Alias para ",(0,r.jsx)(s.code,{children:"translation_app"}),"."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#mt-translation-app",children:(0,r.jsx)(s.code,{children:"translation_app"})})}),(0,r.jsxs)(s.td,{children:["Traduz strings da UI da app a partir de ",(0,r.jsx)(s.code,{children:"sources/_locales/en/messages.json"}),"."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#mt-translation-web",children:(0,r.jsx)(s.code,{children:"translate_web_docs_batch"})})}),(0,r.jsx)(s.td,{children:"Traduz docs do website via OpenAI Batch API (preferido)."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#mt-translation-web",children:(0,r.jsx)(s.code,{children:"translate_web_docs_sync"})})}),(0,r.jsx)(s.td,{children:"Traduz docs do website de forma s\xedncrona (legado, sem batch)."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#mt-translation_web_index",children:(0,r.jsx)(s.code,{children:"translate_web_index"})})}),(0,r.jsxs)(s.td,{children:["Alias para ",(0,r.jsx)(s.code,{children:"translation_web_index"}),"."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#mt-translation_web_index",children:(0,r.jsx)(s.code,{children:"translation_web_index"})})}),(0,r.jsxs)(s.td,{children:["Traduz UI da homepage/navbar/footer (",(0,r.jsx)(s.code,{children:"website/i18n/en/code.json \u2192 .../<lang>/code.json"}),")."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#mt-web_build",children:(0,r.jsx)(s.code,{children:"web_build"})})}),(0,r.jsxs)(s.td,{children:["Constr\xf3i docs para ",(0,r.jsx)(s.code,{children:"website/build"})," (suporta ",(0,r.jsx)(s.code,{children:"--locales"})," / ",(0,r.jsx)(s.code,{children:"BUILD_LOCALES"}),")."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#mt-web_build_linkcheck",children:(0,r.jsx)(s.code,{children:"web_build_linkcheck"})})}),(0,r.jsx)(s.td,{children:"Verifica\xe7\xe3o de links segura offline (ignora HTTP[S] remotos)."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#mt-web_build_local_preview",children:(0,r.jsx)(s.code,{children:"web_build_local_preview"})})}),(0,r.jsx)(s.td,{children:"Pr\xe9\u2011visualiza\xe7\xe3o local de gh\u2011pages; serve automaticamente em 8080\u20138090; testes/link\u2011check opcionais."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#mt-web_push_github",children:(0,r.jsx)(s.code,{children:"web_push_github"})})}),(0,r.jsxs)(s.td,{children:["Faz push de ",(0,r.jsx)(s.code,{children:"website/build"})," para a branch ",(0,r.jsx)(s.code,{children:"gh-pages"}),"."]})]})]})]}),"\n",(0,r.jsx)(s.p,{children:"Syntax for options"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Use ",(0,r.jsx)(s.code,{children:'make <command> OPTS="\u2026"'})," para passar op\xe7\xf5es (recomenda\u2011se aspas). Cada alvo abaixo mostra uso de exemplo."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"--"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"locale-build-tips",children:"Dicas de compila\xe7\xe3o de locale"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Construir um subconjunto de locales: defina ",(0,r.jsx)(s.code,{children:'BUILD_LOCALES="en de"'})," ou passe ",(0,r.jsx)(s.code,{children:'OPTS="--locales en,de"'})," para os alvos web."]}),"\n",(0,r.jsxs)(s.li,{children:["Pr\xe9\u2011visualizar um locale espec\xedfico: ",(0,r.jsx)(s.code,{children:"http://localhost:<port>/Thunderbird-Reply-with-Attachments/de/"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"build-and-package",children:"Compilar e Empacotar"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Construir ZIPs: ",(0,r.jsx)(s.code,{children:"make pack"})]}),"\n",(0,r.jsx)(s.li,{children:"Produz ZIPs ATN e LOCAL na raiz do reposit\xf3rio (n\xe3o edite artefactos \xe0 m\xe3o)"}),"\n",(0,r.jsxs)(s.li,{children:["Dica: atualize a vers\xe3o em ",(0,r.jsx)(s.code,{children:"sources/manifest_ATN.json"})," e ",(0,r.jsx)(s.code,{children:"sources/manifest_LOCAL.json"})," antes de empacotar"]}),"\n",(0,r.jsx)(s.li,{children:"Instala\xe7\xe3o manual (dev): Thunderbird \u2192 Tools \u2192 Add\u2011ons and Themes \u2192 gear \u2192 Install Add\u2011on From File\u2026 \u2192 selecione o ZIP gerado"}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"test",children:"Testes"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Su\xedte completa: ",(0,r.jsx)(s.code,{children:"make test"})," (Vitest)"]}),"\n",(0,r.jsx)(s.li,{children:"Cobertura (opcional):"}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"npm i -D @vitest/coverage-v8"})}),"\n",(0,r.jsxs)(s.li,{children:["Execute ",(0,r.jsx)(s.code,{children:"make test"}),"; abra ",(0,r.jsx)(s.code,{children:"coverage/index.html"})," para o relat\xf3rio HTML"]}),"\n",(0,r.jsxs)(s.li,{children:["Apenas i18n: ",(0,r.jsx)(s.code,{children:"make test_i18n"})," (chaves/placeholders/t\xedtulos da UI + paridade por locale/por doc do website com verifica\xe7\xf5es de id/title/sidebar_label)"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"debugging-and-logs",children:"Depura\xe7\xe3o e Logs"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Consola de Erros: Tools \u2192 Developer Tools \u2192 Error Console"}),"\n",(0,r.jsx)(s.li,{children:"Alternar logs verbosos em runtime:"}),"\n",(0,r.jsxs)(s.li,{children:["Ativar: ",(0,r.jsx)(s.code,{children:"messenger.storage.local.set({ debug: true })"})]}),"\n",(0,r.jsxs)(s.li,{children:["Desativar: ",(0,r.jsx)(s.code,{children:"messenger.storage.local.set({ debug: false })"})]}),"\n",(0,r.jsx)(s.li,{children:"Os logs aparecem ao compor/enviar respostas"}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"docs-website",children:"Documenta\xe7\xe3o (website)"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Servidor de desenvolvimento: ",(0,r.jsx)(s.code,{children:"cd website && npm run start"})]}),"\n",(0,r.jsxs)(s.li,{children:["Construir site est\xe1tico: ",(0,r.jsx)(s.code,{children:"cd website && npm run build"})]}),"\n",(0,r.jsxs)(s.li,{children:["Equivalentes no Make (alfab\xe9tico): ",(0,r.jsx)(s.code,{children:"make web_build"}),", ",(0,r.jsx)(s.code,{children:"make web_build_linkcheck"}),", ",(0,r.jsx)(s.code,{children:"make web_build_local_preview"}),", ",(0,r.jsx)(s.code,{children:"make web_push_github"})]}),"\n",(0,r.jsx)(s.li,{children:"Exemplos de uso:"}),"\n",(0,r.jsxs)(s.li,{children:["Apenas EN, pular testes/verifica\xe7\xe3o de links, sem push: ",(0,r.jsx)(s.code,{children:'make web_build_local_preview OPTS="--locales en --no-test --no-link-check --dry-run"'})]}),"\n",(0,r.jsxs)(s.li,{children:["Todos os locales, com testes/verifica\xe7\xe3o de links, depois push: ",(0,r.jsx)(s.code,{children:"make web_build_local_preview && make web_push_github"})]}),"\n",(0,r.jsxs)(s.li,{children:["Antes de publicar, execute a verifica\xe7\xe3o de links segura offline: ",(0,r.jsx)(s.code,{children:"make web_build_linkcheck"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["i18n: o ingl\xeas vive em ",(0,r.jsx)(s.code,{children:"website/docs/*.md"}),"; tradu\xe7\xf5es em alem\xe3o em ",(0,r.jsx)(s.code,{children:"website/i18n/de/docusaurus-plugin-content-docs/current/*.md"})]}),"\n",(0,r.jsxs)(s.li,{children:["Pesquisa: Se as vari\xe1veis de ambiente do Algolia DocSearch estiverem definidas no CI (",(0,r.jsx)(s.code,{children:"DOCSEARCH_APP_ID"}),", ",(0,r.jsx)(s.code,{children:"DOCSEARCH_API_KEY"}),", ",(0,r.jsx)(s.code,{children:"DOCSEARCH_INDEX_NAME"}),"), o site usa a pesquisa Algolia; caso contr\xe1rio, reverte para a pesquisa local. Na p\xe1gina inicial, prima ",(0,r.jsx)(s.code,{children:"/"})," ou ",(0,r.jsx)(s.code,{children:"Ctrl+K"})," para abrir a caixa de pesquisa."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h4,{id:"donate-redirect",children:"Rota de redirecionamento de doa\xe7\xe3o"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"website/src/pages/donate.js"})}),"\n",(0,r.jsxs)(s.li,{children:["Rota: ",(0,r.jsx)(s.code,{children:"/donate"})," (e ",(0,r.jsx)(s.code,{children:"/<locale>/donate"}),")"]}),"\n",(0,r.jsx)(s.li,{children:"Comportamento:"}),"\n",(0,r.jsxs)(s.li,{children:["Se a rota atual tiver um locale (por exemplo, ",(0,r.jsx)(s.code,{children:"/de/donate"}),"), use\u2011o"]}),"\n",(0,r.jsxs)(s.li,{children:["Caso contr\xe1rio, escolha a melhor correspond\xeancia de ",(0,r.jsx)(s.code,{children:"navigator.languages"})," vs locales configurados; caso falhe, use o locale por omiss\xe3o"]}),"\n",(0,r.jsx)(s.li,{children:"Redireciona para:"}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"en"})," \u2192 ",(0,r.jsx)(s.code,{children:"/docs/donation"})]}),"\n",(0,r.jsxs)(s.li,{children:["outros \u2192 ",(0,r.jsx)(s.code,{children:"/<locale>/docs/donation"})]}),"\n",(0,r.jsxs)(s.li,{children:["Usa ",(0,r.jsx)(s.code,{children:"useBaseUrl"})," para tratar corretamente o baseUrl"]}),"\n",(0,r.jsxs)(s.li,{children:["Inclui meta refresh + link ",(0,r.jsx)(s.code,{children:"noscript"})," como alternativa"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h4,{id:"preview-tips",children:"Dicas de pr\xe9\u2011visualiza\xe7\xe3o"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Pare a pr\xe9\u2011visualiza\xe7\xe3o do Node de forma limpa: abra ",(0,r.jsx)(s.code,{children:"http://localhost:<port>/__stop"})," (impresso ap\xf3s ",(0,r.jsx)(s.code,{children:"Local server started"}),")."]}),"\n",(0,r.jsxs)(s.li,{children:["Se as imagens n\xe3o carregarem em MDX/JSX, use ",(0,r.jsx)(s.code,{children:"useBaseUrl('/img/...')"})," para respeitar o ",(0,r.jsx)(s.code,{children:"baseUrl"})," do site."]}),"\n",(0,r.jsx)(s.li,{children:"O preview inicia primeiro; a verifica\xe7\xe3o de links executa depois e n\xe3o \xe9 bloqueante (links externos quebrados n\xe3o impedem o preview)."}),"\n",(0,r.jsxs)(s.li,{children:["URL de preview de exemplo: ",(0,r.jsx)(s.code,{children:"http://localhost:<port>/Thunderbird-Reply-with-Attachments/"})," (impresso ap\xf3s \u201cLocal server started\u201d)."]}),"\n",(0,r.jsx)(s.li,{children:"Links externos na verifica\xe7\xe3o: Alguns sites externos (por exemplo, addons.thunderbird.net) bloqueiam crawlers automatizados e podem mostrar 403 nas verifica\xe7\xf5es. O preview ainda inicia; \xe9 seguro ignorar."}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h4,{id:"translate-website",children:"Traduzir o Website"}),"\n",(0,r.jsx)(s.p,{children:"O que pode traduzir"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Apenas a UI do website: p\xe1gina inicial, barra de navega\xe7\xe3o, rodap\xe9 e outras strings de UI. O conte\xfado das docs permanece apenas em ingl\xeas por agora."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Onde editar"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Edite ",(0,r.jsx)(s.code,{children:"website/i18n/<locale>/code.json"})," (use ",(0,r.jsx)(s.code,{children:"en"})," como refer\xeancia). Mantenha placeholders como ",(0,r.jsx)(s.code,{children:"{year}"}),", ",(0,r.jsx)(s.code,{children:"{slash}"}),", ",(0,r.jsx)(s.code,{children:"{ctrl}"}),", ",(0,r.jsx)(s.code,{children:"{k}"}),", ",(0,r.jsx)(s.code,{children:"{code1}"})," inalterados."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Gerar ou atualizar ficheiros"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Criar stubs em falta para todos os locales: ",(0,r.jsx)(s.code,{children:"npm --prefix website run i18n:stubs"})]}),"\n",(0,r.jsxs)(s.li,{children:["Sobrescrever stubs a partir do ingl\xeas (ap\xf3s adicionar novas strings): ",(0,r.jsx)(s.code,{children:"npm --prefix website run i18n:stubs:force"})]}),"\n",(0,r.jsxs)(s.li,{children:["Alternativa para um \xfanico locale: ",(0,r.jsx)(s.code,{children:"npx --prefix website docusaurus write-translations --locale <locale>"})]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Traduzir strings de UI da homepage/navbar/footer (OpenAI)"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Defina as credenciais uma vez (shell ou .env):"}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"export OPENAI_API_KEY=sk-..."})}),"\n",(0,r.jsxs)(s.li,{children:["Opcional: ",(0,r.jsx)(s.code,{children:"export OPENAI_MODEL=gpt-4o-mini"})]}),"\n",(0,r.jsxs)(s.li,{children:["De uma s\xf3 vez (todos os locales, ignorando en): ",(0,r.jsx)(s.code,{children:"make translate_web_index"})]}),"\n",(0,r.jsxs)(s.li,{children:["Limitar a locales espec\xedficos: ",(0,r.jsx)(s.code,{children:'make translate_web_index OPTS="--locales de,fr"'})]}),"\n",(0,r.jsxs)(s.li,{children:["Sobrescrever valores existentes: ",(0,r.jsx)(s.code,{children:'make translate_web_index OPTS="--force"'})]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Valida\xe7\xe3o e retentativas"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"O script de tradu\xe7\xe3o valida a estrutura do JSON, preserva placeholders entre chavetas e garante que os URLs permanecem inalterados."}),"\n",(0,r.jsx)(s.li,{children:"Em caso de falha de valida\xe7\xe3o, tenta novamente com feedback at\xe9 2 vezes antes de manter os valores existentes."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Pr\xe9\u2011visualize o seu locale"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Servidor de desenvolvimento: ",(0,r.jsx)(s.code,{children:"npm --prefix website run start"})]}),"\n",(0,r.jsxs)(s.li,{children:["Visite ",(0,r.jsx)(s.code,{children:"http://localhost:3000/<locale>/Thunderbird-Reply-with-Attachments/"})]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Submiss\xe3o"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Abra um PR com o(s) ficheiro(s) ",(0,r.jsx)(s.code,{children:"code.json"})," editado(s). Mantenha as altera\xe7\xf5es focadas e inclua uma captura de ecr\xe3 r\xe1pida quando poss\xedvel."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"security-and-configuration-tips",children:"Dicas de Seguran\xe7a e Configura\xe7\xe3o"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["N\xe3o fa\xe7a commit de ",(0,r.jsx)(s.code,{children:"sources/manifest.json"})," (criado temporariamente pelo build)"]}),"\n",(0,r.jsxs)(s.li,{children:["Mantenha ",(0,r.jsx)(s.code,{children:"browser_specific_settings.gecko.id"})," est\xe1vel para preservar o canal de atualiza\xe7\xe3o"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"settings-persistence",children:"Persist\xeancia das Defini\xe7\xf5es"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Armazenamento: Todas as defini\xe7\xf5es do utilizador residem em ",(0,r.jsx)(s.code,{children:"storage.local"})," e persistem entre atualiza\xe7\xf5es do add\u2011on."]}),"\n",(0,r.jsx)(s.li,{children:"Instala\xe7\xe3o: Os valores por omiss\xe3o s\xe3o aplicados apenas quando uma chave est\xe1 estritamente em falta (undefined)."}),"\n",(0,r.jsx)(s.li,{children:"Atualiza\xe7\xe3o: Uma migra\xe7\xe3o preenche apenas chaves em falta; os valores existentes nunca s\xe3o sobrescritos."}),"\n",(0,r.jsxs)(s.li,{children:["Marcador de esquema: ",(0,r.jsx)(s.code,{children:"settingsVersion"})," (atualmente ",(0,r.jsx)(s.code,{children:"1"}),")."]}),"\n",(0,r.jsx)(s.li,{children:"Chaves e valores por omiss\xe3o:"}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"blacklistPatterns: string[]"})," \u2192 ",(0,r.jsx)(s.code,{children:"['*intern*', '*secret*', '*passwor*']"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"confirmBeforeAdd: boolean"})," \u2192 ",(0,r.jsx)(s.code,{children:"false"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"confirmDefaultChoice: 'yes'|'no'"})," \u2192 ",(0,r.jsx)(s.code,{children:"'yes'"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"warnOnBlacklistExcluded: boolean"})," \u2192 ",(0,r.jsx)(s.code,{children:"true"})]}),"\n",(0,r.jsxs)(s.li,{children:["C\xf3digo: ver ",(0,r.jsx)(s.code,{children:"sources/background.js"})," \u2192 ",(0,r.jsx)(s.code,{children:"initializeOrMigrateSettings()"})," e ",(0,r.jsx)(s.code,{children:"SCHEMA_VERSION"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Fluxo de desenvolvimento (adicionando uma nova defini\xe7\xe3o)"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Aumente ",(0,r.jsx)(s.code,{children:"SCHEMA_VERSION"})," em ",(0,r.jsx)(s.code,{children:"sources/background.js"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Adicione a nova chave + valor por omiss\xe3o ao objeto ",(0,r.jsx)(s.code,{children:"DEFAULTS"})," em ",(0,r.jsx)(s.code,{children:"initializeOrMigrateSettings()"}),"."]}),"\n",(0,r.jsx)(s.li,{children:'Use a regra "only-if-undefined" ao definir valores por omiss\xe3o; n\xe3o sobrescreva valores existentes.'}),"\n",(0,r.jsxs)(s.li,{children:["Se a defini\xe7\xe3o for vis\xedvel para o utilizador, integre\u2011a em ",(0,r.jsx)(s.code,{children:"sources/options.js"})," e adicione strings localizadas."]}),"\n",(0,r.jsxs)(s.li,{children:["Adicione/ajuste testes (ver ",(0,r.jsx)(s.code,{children:"tests/background.settings.migration.test.js"}),")."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Dicas para testes manuais"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Simular uma instala\xe7\xe3o limpa: limpe o diret\xf3rio de dados da extens\xe3o ou inicie com um novo perfil."}),"\n",(0,r.jsxs)(s.li,{children:["Simular uma atualiza\xe7\xe3o: defina ",(0,r.jsx)(s.code,{children:"settingsVersion"})," para ",(0,r.jsx)(s.code,{children:"0"})," em ",(0,r.jsx)(s.code,{children:"storage.local"})," e recarregue; confirme que os valores existentes permanecem inalterados e apenas chaves em falta s\xe3o adicionadas."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"troubleshooting",children:"Resolu\xe7\xe3o de Problemas"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Certifique\u2011se de que o Thunderbird \xe9 128 ESR ou mais recente"}),"\n",(0,r.jsx)(s.li,{children:"Use a Consola de Erros para problemas de runtime"}),"\n",(0,r.jsx)(s.li,{children:"Se as defini\xe7\xf5es armazenadas parecerem n\xe3o se aplicar corretamente, reinicie o Thunderbird e tente novamente. (O Thunderbird pode manter estado em cache entre sess\xf5es; um rein\xedcio garante que as defini\xe7\xf5es novas s\xe3o carregadas.)"}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"ci-and-coverage",children:"CI e Cobertura"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["O GitHub Actions (",(0,r.jsx)(s.code,{children:"CI \u2014 Tests"}),") executa o vitest com limites de cobertura (85% linhas/fun\xe7\xf5es/ramifica\xe7\xf5es/declara\xe7\xf5es). Se os limites n\xe3o forem cumpridos, o job falha."]}),"\n",(0,r.jsxs)(s.li,{children:["O workflow carrega um artefacto ",(0,r.jsx)(s.code,{children:"coverage-html"})," com o relat\xf3rio HTML; transfira\u2011o a partir da p\xe1gina da execu\xe7\xe3o (Actions \u2192 execu\xe7\xe3o mais recente \u2192 Artifacts)."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"contributing",children:"Contribui\xe7\xe3o"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Veja CONTRIBUTING.md para diretrizes de branch/commit/PR"}),"\n",(0,r.jsx)(s.li,{children:"Dica: Crie um perfil de desenvolvimento do Thunderbird separado para testes a fim de evitar impactar o seu perfil di\xe1rio."}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"tradu\xe7\xf5es",children:"Tradu\xe7\xf5es"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Executar tarefas grandes de tradu\xe7\xe3o \u201call \u2192 all\u201d pode ser lento e caro. Comece com um subconjunto (por exemplo, alguns documentos e 1\u20132 locales), reveja o resultado e depois expanda."}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Pol\xedtica de retentativas: tarefas de tradu\xe7\xe3o executam at\xe9 3 retentativas com backoff exponencial em erros da API; veja ",(0,r.jsx)(s.code,{children:"scripts/translate_web_docs_batch.js"})," e ",(0,r.jsx)(s.code,{children:"scripts/translate_web_docs_sync.js"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Capturas de ecr\xe3 para a documenta\xe7\xe3o"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Guarde as imagens em ",(0,r.jsx)(s.code,{children:"website/static/img/"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Referencie-as em MD/MDX via ",(0,r.jsx)(s.code,{children:"useBaseUrl('/img/<filename>')"})," para que os caminhos funcionem com o ",(0,r.jsx)(s.code,{children:"baseUrl"})," do site."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Ap\xf3s adicionar ou renomear imagens em ",(0,r.jsx)(s.code,{children:"website/static/img/"}),", confirme que todas as refer\xeancias ainda usam ",(0,r.jsx)(s.code,{children:"useBaseUrl('/img/\u2026')"})," e renderizam numa pr\xe9\u2011visualiza\xe7\xe3o local.\nFavicons"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["O ",(0,r.jsx)(s.code,{children:"favicon.ico"})," multi\u2011tamanho \xe9 gerado automaticamente em todos os caminhos de build (Make + scripts) via ",(0,r.jsx)(s.code,{children:"website/scripts/build-favicon.mjs"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["N\xe3o \xe9 necess\xe1rio nenhum passo manual; atualizar ",(0,r.jsx)(s.code,{children:"icon-*.png"})," \xe9 suficiente.\nDica de revis\xe3o"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Mantenha o front\u2011matter ",(0,r.jsx)(s.code,{children:"id"})," inalterado em docs traduzidas; traduza apenas ",(0,r.jsx)(s.code,{children:"title"})," e ",(0,r.jsx)(s.code,{children:"sidebar_label"})," quando presentes."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"mt-clean",children:"clean"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Finalidade: remover artefactos locais de build/preview."}),"\n",(0,r.jsxs)(s.li,{children:["Uso: ",(0,r.jsx)(s.code,{children:"make clean"})]}),"\n",(0,r.jsx)(s.li,{children:"Remove (se existirem):"}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"tmp/"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"web-local-preview/"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"website/build/"})}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h4,{id:"mt-commit",children:"commit"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Finalidade: formatar, testar, atualizar changelog, fazer commit e push."}),"\n",(0,r.jsxs)(s.li,{children:["Uso: ",(0,r.jsx)(s.code,{children:"make commit"})]}),"\n",(0,r.jsxs)(s.li,{children:["Detalhes: executa Prettier (escrever), ",(0,r.jsx)(s.code,{children:"make test"}),", ",(0,r.jsx)(s.code,{children:"make test_i18n"}),"; anexa o changelog quando h\xe1 diffs em stage; faz push para ",(0,r.jsx)(s.code,{children:"origin/<branch>"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h4,{id:"mt-eslint",children:"eslint"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Finalidade: executar o ESLint via configura\xe7\xe3o flat."}),"\n",(0,r.jsxs)(s.li,{children:["Uso: ",(0,r.jsx)(s.code,{children:"make eslint"})]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h4,{id:"mt-help",children:"help"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Finalidade: listar todos os alvos com docs de uma linha."}),"\n",(0,r.jsxs)(s.li,{children:["Uso: ",(0,r.jsx)(s.code,{children:"make help"})]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h4,{id:"mt-lint",children:"lint"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Finalidade: fazer lint da MailExtension usando ",(0,r.jsx)(s.code,{children:"web-ext"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Uso: ",(0,r.jsx)(s.code,{children:"make lint"})]}),"\n",(0,r.jsxs)(s.li,{children:["Notas: copia temporariamente ",(0,r.jsx)(s.code,{children:"sources/manifest_LOCAL.json"})," \u2192 ",(0,r.jsx)(s.code,{children:"sources/manifest.json"}),"; ignora ZIPs; avisos n\xe3o falham o pipeline."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h4,{id:"mt-menu",children:"menu"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Finalidade: menu interativo para selecionar um alvo do Make e argumentos opcionais."}),"\n",(0,r.jsxs)(s.li,{children:["Uso: execute ",(0,r.jsx)(s.code,{children:"make"})," sem argumentos."]}),"\n",(0,r.jsxs)(s.li,{children:["Notas: se ",(0,r.jsx)(s.code,{children:"whiptail"})," n\xe3o estiver dispon\xedvel, o menu recua para ",(0,r.jsx)(s.code,{children:"make help"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h4,{id:"mt-pack",children:"pack"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Finalidade: construir ZIPs ATN e LOCAL (depende de ",(0,r.jsx)(s.code,{children:"lint"}),")."]}),"\n",(0,r.jsxs)(s.li,{children:["Uso: ",(0,r.jsx)(s.code,{children:"make pack"})]}),"\n",(0,r.jsxs)(s.li,{children:["Dica: incremente as vers\xf5es em ",(0,r.jsx)(s.code,{children:"sources/manifest_*.json"})," antes de empacotar."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h4,{id:"mt-prettier",children:"prettier"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Finalidade: formatar o reposit\xf3rio no local."}),"\n",(0,r.jsxs)(s.li,{children:["Uso: ",(0,r.jsx)(s.code,{children:"make prettier"})]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"mt-prettier_check",children:"prettier_check"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Finalidade: verificar formata\xe7\xe3o (sem escrita)."}),"\n",(0,r.jsxs)(s.li,{children:["Uso: ",(0,r.jsx)(s.code,{children:"make prettier_check"})]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"mt-prettier_write",children:"prettier_write"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Finalidade: alias para ",(0,r.jsx)(s.code,{children:"prettier"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Uso: ",(0,r.jsx)(s.code,{children:"make prettier_write"})]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h4,{id:"mt-test",children:"test"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Finalidade: executar Prettier (escrever), ESLint e depois Vitest (cobertura se instalada)."}),"\n",(0,r.jsxs)(s.li,{children:["Uso: ",(0,r.jsx)(s.code,{children:"make test"})]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"mt-test_i18n",children:"test_i18n"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Finalidade: testes focados em i18n para strings do add\u2011on e docs do website."}),"\n",(0,r.jsxs)(s.li,{children:["Uso: ",(0,r.jsx)(s.code,{children:"make test_i18n"})]}),"\n",(0,r.jsxs)(s.li,{children:["Executa: ",(0,r.jsx)(s.code,{children:"npm run test:i18n"})," e ",(0,r.jsx)(s.code,{children:"npm run -s test:website-i18n"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h4,{id:"mt-translation-app",children:"translate_app / translation_app"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Finalidade: traduzir strings de UI do add\u2011on de EN para outros locales."}),"\n",(0,r.jsxs)(s.li,{children:["Uso: ",(0,r.jsx)(s.code,{children:'make translation_app OPTS="--locales all|de,fr"'})]}),"\n",(0,r.jsxs)(s.li,{children:["Notas: preserva a estrutura das chaves e placeholders; regista em ",(0,r.jsx)(s.code,{children:"translation_app.log"}),". Forma de script: ",(0,r.jsx)(s.code,{children:"node scripts/translate_app.js --locales \u2026"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"mt-translation-web",children:"translate_web_docs_batch / translate_web_docs_sync"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Finalidade: traduzir docs do website de ",(0,r.jsx)(s.code,{children:"website/docs/*.md"})," para ",(0,r.jsx)(s.code,{children:"website/i18n/<locale>/..."}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Preferido: ",(0,r.jsx)(s.code,{children:"translate_web_docs_batch"})," (OpenAI Batch API)","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Uso (flags): ",(0,r.jsx)(s.code,{children:'make translate_web_docs_batch OPTS="--files <doc1,doc2|all> --locales <lang1,lang2|all>"'})]}),"\n",(0,r.jsxs)(s.li,{children:["O posicional legado ainda \xe9 aceite: ",(0,r.jsx)(s.code,{children:'OPTS="<doc|all> <lang|all>"'})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"Comportamento: constr\xf3i JSONL, carrega, verifica a cada 30s, transfere resultados, escreve ficheiros."}),"\n",(0,r.jsx)(s.li,{children:"Nota: um job em batch pode demorar at\xe9 24 horas para concluir (conforme a janela de batch da OpenAI). A consola mostra o tempo decorrido a cada verifica\xe7\xe3o."}),"\n",(0,r.jsxs)(s.li,{children:["Ambiente: ",(0,r.jsx)(s.code,{children:"OPENAI_API_KEY"})," (obrigat\xf3rio), opcional ",(0,r.jsx)(s.code,{children:"OPENAI_MODEL"}),", ",(0,r.jsx)(s.code,{children:"OPENAI_TEMPERATURE"}),", ",(0,r.jsx)(s.code,{children:"OPENAI_BATCH_WINDOW"})," (predefini\xe7\xe3o 24h), ",(0,r.jsx)(s.code,{children:"BATCH_POLL_INTERVAL_MS"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Legado: ",(0,r.jsx)(s.code,{children:"translate_web_docs_sync"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Uso (flags): ",(0,r.jsx)(s.code,{children:'make translate_web_docs_sync OPTS="--files <doc1,doc2|all> --locales <lang1,lang2|all>"'})]}),"\n",(0,r.jsxs)(s.li,{children:["O posicional legado ainda \xe9 aceite: ",(0,r.jsx)(s.code,{children:'OPTS="<doc|all> <lang|all>"'})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"Comportamento: pedidos s\xedncronos por par (sem agrega\xe7\xe3o em batch)."}),"\n",(0,r.jsxs)(s.li,{children:["Notas: Prompts interativos quando ",(0,r.jsx)(s.code,{children:"OPTS"})," \xe9 omitido. Ambos os modos preservam blocos de c\xf3digo/c\xf3digo inline e mant\xeam o front\u2011matter ",(0,r.jsx)(s.code,{children:"id"})," inalterado; regista em ",(0,r.jsx)(s.code,{children:"translation_web_batch.log"})," (batch) ou ",(0,r.jsx)(s.code,{children:"translation_web_sync.log"})," (sync)."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h4,{id:"mt-translation_web_index",children:"translate_web_index / translation_web_index"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Finalidade: traduzir strings de UI do website (homepage, navbar, footer) de ",(0,r.jsx)(s.code,{children:"website/i18n/en/code.json"})," para todos os locales em ",(0,r.jsx)(s.code,{children:"website/i18n/<locale>/code.json"})," (excluindo ",(0,r.jsx)(s.code,{children:"en"}),")."]}),"\n",(0,r.jsxs)(s.li,{children:["Uso: ",(0,r.jsx)(s.code,{children:"make translate_web_index"})," ou ",(0,r.jsx)(s.code,{children:'make translate_web_index OPTS="--locales de,fr [--force]"'})]}),"\n",(0,r.jsxs)(s.li,{children:["Requisitos: exportar ",(0,r.jsx)(s.code,{children:"OPENAI_API_KEY"})," (opcional: ",(0,r.jsx)(s.code,{children:"OPENAI_MODEL=gpt-4o-mini"}),")."]}),"\n",(0,r.jsx)(s.li,{children:"Comportamento: valida a estrutura JSON, preserva placeholders entre chavetas, mant\xe9m URLs inalterados e faz novas tentativas com feedback em erros de valida\xe7\xe3o."}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h4,{id:"mt-web_build",children:"web_build"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Finalidade: construir o site de docs para ",(0,r.jsx)(s.code,{children:"website/build"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Uso: ",(0,r.jsx)(s.code,{children:'make web_build OPTS="--locales en|de,en|all"'})," (ou defina ",(0,r.jsx)(s.code,{children:'BUILD_LOCALES="en de"'}),")"]}),"\n",(0,r.jsxs)(s.li,{children:["Internos: ",(0,r.jsx)(s.code,{children:"node ./node_modules/@docusaurus/core/bin/docusaurus.mjs build [--locale \u2026]"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Depend\xeancias: executa ",(0,r.jsx)(s.code,{children:"npm ci"})," em ",(0,r.jsx)(s.code,{children:"website/"})," apenas se ",(0,r.jsx)(s.code,{children:"website/node_modules/@docusaurus"})," estiver em falta."]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"mt-web_build_linkcheck",children:"web_build_linkcheck"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Finalidade: verifica\xe7\xe3o de links segura offline."}),"\n",(0,r.jsxs)(s.li,{children:["Uso: ",(0,r.jsx)(s.code,{children:'make web_build_linkcheck OPTS="--locales en|all"'})]}),"\n",(0,r.jsxs)(s.li,{children:["Notas: constr\xf3i para ",(0,r.jsx)(s.code,{children:"tmp_linkcheck_web_pages"}),"; reescreve ",(0,r.jsx)(s.code,{children:"baseUrl"})," do GH Pages para ",(0,r.jsx)(s.code,{children:"/"}),"; ignora links HTTP(S) remotos."]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"mt-web_build_local_preview",children:"web_build_local_preview"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Finalidade: pr\xe9\u2011visualiza\xe7\xe3o local de gh\u2011pages com testes/link\u2011check opcionais."}),"\n",(0,r.jsxs)(s.li,{children:["Uso: ",(0,r.jsx)(s.code,{children:'make web_build_local_preview OPTS="--locales en|all [--no-test] [--no-link-check] [--dry-run] [--no-serve]"'})]}),"\n",(0,r.jsxs)(s.li,{children:["Comportamento: tenta primeiro o servidor de pr\xe9\u2011visualiza\xe7\xe3o em Node (",(0,r.jsx)(s.code,{children:"scripts/preview-server.mjs"}),", suporta ",(0,r.jsx)(s.code,{children:"/__stop"}),"), recua para ",(0,r.jsx)(s.code,{children:"python3 -m http.server"}),"; serve em 8080\u20138090; PID em ",(0,r.jsx)(s.code,{children:"web-local-preview/.server.pid"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"mt-web_push_github",children:"web_push_github"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Finalidade: fazer push de ",(0,r.jsx)(s.code,{children:"website/build"})," para a branch ",(0,r.jsx)(s.code,{children:"gh-pages"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Uso: ",(0,r.jsx)(s.code,{children:"make web_push_github"})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Dica: defina ",(0,r.jsx)(s.code,{children:"NPM=\u2026"})," para substituir o gestor de pacotes usado pelo Makefile (predefinido: ",(0,r.jsx)(s.code,{children:"npm"}),")."]}),"\n",(0,r.jsx)(s.hr,{})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},8453(e,s,i){i.d(s,{R:()=>d,x:()=>a});var n=i(6540);const r={},l=n.createContext(r);function d(e){const s=n.useContext(l);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),n.createElement(l.Provider,{value:s},e.children)}}}]);