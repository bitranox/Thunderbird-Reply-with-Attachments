"use strict";(self.webpackChunkrwa_docs=self.webpackChunkrwa_docs||[]).push([[507],{2846:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>a,frontMatter:()=>d,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"development","title":"D\xe9veloppement","description":"Guide de d\xe9veloppement","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/development.md","sourceDirName":".","slug":"/development","permalink":"/Thunderbird-Reply-with-Attachments/fr/docs/development","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1757205965000,"frontMatter":{"id":"development","title":"D\xe9veloppement","sidebar_label":"D\xe9veloppement"},"sidebar":"docs","previous":{"title":"Autorisations","permalink":"/Thunderbird-Reply-with-Attachments/fr/docs/permissions"},"next":{"title":"Langues","permalink":"/Thunderbird-Reply-with-Attachments/fr/docs/languages"}}');var l=s(4848),r=s(8453);const d={id:"development",title:"D\xe9veloppement",sidebar_label:"D\xe9veloppement"},c=void 0,t={},o=[{value:"Guide de d\xe9veloppement",id:"guide-de-d\xe9veloppement",level:2},{value:"Pr\xe9requis",id:"pr\xe9requis",level:3},{value:"Organisation du projet (vue d\u2019ensemble)",id:"organisation-du-projet-vue-densemble",level:3},{value:"Installation &amp; outils",id:"installation--outils",level:3},{value:"Build &amp; packaging",id:"build--packaging",level:3},{value:"Tests",id:"tests",level:3},{value:"D\xe9bogage &amp; journaux",id:"d\xe9bogage--journaux",level:3},{value:"Docs (site)",id:"docs-site",level:3},{value:"S\xe9curit\xe9 &amp; configuration",id:"s\xe9curit\xe9--configuration",level:3},{value:"D\xe9pannage",id:"d\xe9pannage",level:3},{value:"CI &amp; couverture",id:"ci--couverture",level:3},{value:"Contribuer",id:"contribuer",level:3}];function u(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"guide-de-d\xe9veloppement",children:"Guide de d\xe9veloppement"}),"\n",(0,l.jsx)(n.h3,{id:"pr\xe9requis",children:"Pr\xe9requis"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Node.js\xa018+ et npm"}),"\n",(0,l.jsx)(n.li,{children:"Thunderbird\xa0128\xa0ESR ou plus r\xe9cent (pour les tests manuels)"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"organisation-du-projet-vue-densemble",children:"Organisation du projet (vue d\u2019ensemble)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Racine\xa0: script de packaging ",(0,l.jsx)(n.code,{children:"distribution_zip_packer.sh"}),", docs, captures"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"sources/"}),"\xa0: code principal du module (arri\xe8re\u2011plan, UI options/pop\u2011up, manifestes, ic\xf4nes)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"tests/"}),"\xa0: suite Vitest"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"website/"}),"\xa0: docs Docusaurus (i18n sous ",(0,l.jsx)(n.code,{children:"website/i18n/de/..."}),")"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"installation--outils",children:"Installation & outils"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Installer les d\xe9pendances racine\xa0: ",(0,l.jsx)(n.code,{children:"npm ci"})]}),"\n",(0,l.jsxs)(n.li,{children:["Docs (optionnel)\xa0: ",(0,l.jsx)(n.code,{children:"cd website && npm ci"})]}),"\n",(0,l.jsxs)(n.li,{children:["Explorer les cibles\xa0: ",(0,l.jsx)(n.code,{children:"make help"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"build--packaging",children:"Build & packaging"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Construire les ZIP\xa0: ",(0,l.jsx)(n.code,{children:"make pack"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Produit des ZIP ATN et LOCAL \xe0 la racine du d\xe9p\xf4t (ne pas modifier \xe0 la main)"}),"\n",(0,l.jsxs)(n.li,{children:["Astuce\xa0: mettez \xe0 jour la version dans ",(0,l.jsx)(n.code,{children:"sources/manifest_ATN.json"})," et ",(0,l.jsx)(n.code,{children:"sources/manifest_LOCAL.json"})," avant le packaging"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"Installation manuelle (dev)\xa0: Thunderbird \u2192 Outils \u2192 Modules et th\xe8mes \u2192 engrenage \u2192 Installer un module depuis un fichier\u2026 \u2192 s\xe9lectionnez le ZIP"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"tests",children:"Tests"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Suite compl\xe8te\xa0: ",(0,l.jsx)(n.code,{children:"make test"})," (Vitest)"]}),"\n",(0,l.jsxs)(n.li,{children:["Couverture (optionnel)\xa0:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"npm i -D @vitest/coverage-v8"})}),"\n",(0,l.jsxs)(n.li,{children:["Ex\xe9cutez ",(0,l.jsx)(n.code,{children:"make test"}),"\xa0; ouvrez ",(0,l.jsx)(n.code,{children:"coverage/index.html"})," pour le rapport HTML"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["i18n uniquement\xa0: ",(0,l.jsx)(n.code,{children:"make test-i18n"})," (parit\xe9, placeholders, titres)"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"d\xe9bogage--journaux",children:"D\xe9bogage & journaux"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Console d\u2019erreurs\xa0: Outils \u2192 Outils de d\xe9veloppement \u2192 Console d\u2019erreurs"}),"\n",(0,l.jsxs)(n.li,{children:["Basculer les journaux verbeux \xe0 l\u2019ex\xe9cution\xa0:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Activer\xa0: ",(0,l.jsx)(n.code,{children:"messenger.storage.local.set({ debug: true })"})]}),"\n",(0,l.jsxs)(n.li,{children:["D\xe9sactiver\xa0: ",(0,l.jsx)(n.code,{children:"messenger.storage.local.set({ debug: false })"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"Les journaux apparaissent lors de la r\xe9daction/l\u2019envoi de r\xe9ponses"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"docs-site",children:"Docs (site)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Serveur de dev\xa0: ",(0,l.jsx)(n.code,{children:"cd website && npm run start"})]}),"\n",(0,l.jsxs)(n.li,{children:["Build du site statique\xa0: ",(0,l.jsx)(n.code,{children:"cd website && npm run build"})]}),"\n",(0,l.jsxs)(n.li,{children:["i18n\xa0: anglais dans ",(0,l.jsx)(n.code,{children:"website/docs/*.md"}),"\xa0; allemand dans ",(0,l.jsx)(n.code,{children:"website/i18n/de/docusaurus-plugin-content-docs/current/*.md"})]}),"\n",(0,l.jsxs)(n.li,{children:["Recherche\xa0: si DocSearch Algolia est configur\xe9 en CI (",(0,l.jsx)(n.code,{children:"DOCSEARCH_APP_ID"}),", ",(0,l.jsx)(n.code,{children:"DOCSEARCH_API_KEY"}),", ",(0,l.jsx)(n.code,{children:"DOCSEARCH_INDEX_NAME"}),"), le site utilise Algolia\xa0; sinon, recherche locale. Sur la page d\u2019accueil, ",(0,l.jsx)(n.code,{children:"/"})," ou ",(0,l.jsx)(n.code,{children:"Ctrl+K"})," ouvre la recherche."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"s\xe9curit\xe9--configuration",children:"S\xe9curit\xe9 & configuration"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Ne pas committer ",(0,l.jsx)(n.code,{children:"sources/manifest.json"})," (cr\xe9\xe9 temporairement par la build)"]}),"\n",(0,l.jsxs)(n.li,{children:["Garder ",(0,l.jsx)(n.code,{children:"browser_specific_settings.gecko.id"})," stable pour pr\xe9server le canal de mise \xe0 jour"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"d\xe9pannage",children:"D\xe9pannage"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"V\xe9rifiez que Thunderbird est en 128\xa0ESR ou plus r\xe9cent"}),"\n",(0,l.jsx)(n.li,{children:"Utilisez la Console d\u2019erreurs pour les probl\xe8mes d\u2019ex\xe9cution"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"ci--couverture",children:"CI & couverture"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["GitHub Actions (",(0,l.jsx)(n.code,{children:"CI \u2014 Tests"}),") ex\xe9cute vitest avec des seuils de couverture (85\xa0% lignes/fonctions/branches/instructions). En\u2011dessous, le job \xe9choue."]}),"\n",(0,l.jsxs)(n.li,{children:["Le workflow charge l\u2019art\xe9fact ",(0,l.jsx)(n.code,{children:"coverage-html"})," (rapport HTML)\xa0; t\xe9l\xe9chargez\u2011le depuis la page de l\u2019ex\xe9cution (Actions \u2192 derni\xe8re ex\xe9cution \u2192 Artifacts)."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"contribuer",children:"Contribuer"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Voir CONTRIBUTING.md pour les r\xe8gles de branches/commits/PR"}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(u,{...e})}):u(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>c});var i=s(6540);const l={},r=i.createContext(l);function d(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);