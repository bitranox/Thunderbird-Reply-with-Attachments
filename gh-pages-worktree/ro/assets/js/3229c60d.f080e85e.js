"use strict";(self.webpackChunkrwa_docs=self.webpackChunkrwa_docs||[]).push([[704],{147:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"development","title":"Development","description":"Development Guide","source":"@site/i18n/ro/docusaurus-plugin-content-docs/current/development.md","sourceDirName":".","slug":"/development","permalink":"/Thunderbird-Reply-with-Attachments/ro/docs/development","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1757205965000,"frontMatter":{"id":"development","title":"Development","sidebar_label":"Development"},"sidebar":"docs","previous":{"title":"Permissions","permalink":"/Thunderbird-Reply-with-Attachments/ro/docs/permissions"},"next":{"title":"Languages","permalink":"/Thunderbird-Reply-with-Attachments/ro/docs/languages"}}');var l=s(4848),r=s(8453);const t={id:"development",title:"Development",sidebar_label:"Development"},o=void 0,d={},c=[{value:"Development Guide",id:"development-guide",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Project Layout (high\u2011level)",id:"project-layout-highlevel",level:3},{value:"Install &amp; Tooling",id:"install--tooling",level:3},{value:"Build &amp; Package",id:"build--package",level:3},{value:"Test",id:"test",level:3},{value:"Debugging &amp; Logs",id:"debugging--logs",level:3},{value:"Docs (website)",id:"docs-website",level:3},{value:"Security &amp; Configuration Tips",id:"security--configuration-tips",level:3},{value:"Troubleshooting",id:"troubleshooting",level:3},{value:"CI &amp; Coverage",id:"ci--coverage",level:3},{value:"Contributing",id:"contributing",level:3}];function a(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"development-guide",children:"Development Guide"}),"\n",(0,l.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Node.js 18+ and npm"}),"\n",(0,l.jsx)(n.li,{children:"Thunderbird 128 ESR or newer (for manual testing)"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"project-layout-highlevel",children:"Project Layout (high\u2011level)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Root: packaging script ",(0,l.jsx)(n.code,{children:"distribution_zip_packer.sh"}),", docs, screenshots"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"sources/"}),": main add\u2011on code (background, options/popup UI, manifests, icons)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"tests/"}),": Vitest suite"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"website/"}),": Docusaurus docs (with i18n under ",(0,l.jsx)(n.code,{children:"website/i18n/de/..."}),")"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"install--tooling",children:"Install & Tooling"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Install root deps: ",(0,l.jsx)(n.code,{children:"npm ci"})]}),"\n",(0,l.jsxs)(n.li,{children:["Docs (optional): ",(0,l.jsx)(n.code,{children:"cd website && npm ci"})]}),"\n",(0,l.jsxs)(n.li,{children:["Discover targets: ",(0,l.jsx)(n.code,{children:"make help"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"build--package",children:"Build & Package"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Build ZIPs: ",(0,l.jsx)(n.code,{children:"make pack"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Produces ATN and LOCAL ZIPs in the repo root (do not edit artifacts by hand)"}),"\n",(0,l.jsxs)(n.li,{children:["Tip: update version in both ",(0,l.jsx)(n.code,{children:"sources/manifest_ATN.json"})," and ",(0,l.jsx)(n.code,{children:"sources/manifest_LOCAL.json"})," before packaging"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"Manual install (dev): Thunderbird \u2192 Tools \u2192 Add\u2011ons and Themes \u2192 gear \u2192 Install Add\u2011on From File\u2026 \u2192 select the built ZIP"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"test",children:"Test"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Full suite: ",(0,l.jsx)(n.code,{children:"make test"})," (Vitest)"]}),"\n",(0,l.jsxs)(n.li,{children:["Coverage (optional):","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"npm i -D @vitest/coverage-v8"})}),"\n",(0,l.jsxs)(n.li,{children:["Run ",(0,l.jsx)(n.code,{children:"make test"}),"; open ",(0,l.jsx)(n.code,{children:"coverage/index.html"})," for HTML report"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["i18n only: ",(0,l.jsx)(n.code,{children:"make test-i18n"})," (parity, placeholders, titles)"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"debugging--logs",children:"Debugging & Logs"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Error Console: Tools \u2192 Developer Tools \u2192 Error Console"}),"\n",(0,l.jsxs)(n.li,{children:["Toggle verbose logs at runtime:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Enable: ",(0,l.jsx)(n.code,{children:"messenger.storage.local.set({ debug: true })"})]}),"\n",(0,l.jsxs)(n.li,{children:["Disable: ",(0,l.jsx)(n.code,{children:"messenger.storage.local.set({ debug: false })"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"Logs appear while composing/sending replies"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"docs-website",children:"Docs (website)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Dev server: ",(0,l.jsx)(n.code,{children:"cd website && npm run start"})]}),"\n",(0,l.jsxs)(n.li,{children:["Build static site: ",(0,l.jsx)(n.code,{children:"cd website && npm run build"})]}),"\n",(0,l.jsxs)(n.li,{children:["i18n: English lives in ",(0,l.jsx)(n.code,{children:"website/docs/*.md"}),"; German translations in ",(0,l.jsx)(n.code,{children:"website/i18n/de/docusaurus-plugin-content-docs/current/*.md"})]}),"\n",(0,l.jsxs)(n.li,{children:["Search: If Algolia DocSearch env vars are set in CI (",(0,l.jsx)(n.code,{children:"DOCSEARCH_APP_ID"}),", ",(0,l.jsx)(n.code,{children:"DOCSEARCH_API_KEY"}),", ",(0,l.jsx)(n.code,{children:"DOCSEARCH_INDEX_NAME"}),"), the site uses Algolia search; otherwise it falls back to local search. On the homepage, press ",(0,l.jsx)(n.code,{children:"/"})," or ",(0,l.jsx)(n.code,{children:"Ctrl+K"})," to open the search box."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"security--configuration-tips",children:"Security & Configuration Tips"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Do not commit ",(0,l.jsx)(n.code,{children:"sources/manifest.json"})," (created temporarily by the build)"]}),"\n",(0,l.jsxs)(n.li,{children:["Keep ",(0,l.jsx)(n.code,{children:"browser_specific_settings.gecko.id"})," stable to preserve the update channel"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Ensure Thunderbird is 128 ESR or newer"}),"\n",(0,l.jsx)(n.li,{children:"Use the Error Console for runtime issues"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"ci--coverage",children:"CI & Coverage"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["GitHub Actions (",(0,l.jsx)(n.code,{children:"CI \u2014 Tests"}),") runs vitest with coverage thresholds (85% lines/functions/branches/statements). If thresholds are not met, the job fails."]}),"\n",(0,l.jsxs)(n.li,{children:["The workflow uploads an artifact ",(0,l.jsx)(n.code,{children:"coverage-html"})," with the HTML report; download it from the run page (Actions \u2192 latest run \u2192 Artifacts)."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"contributing",children:"Contributing"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"See CONTRIBUTING.md for branch/commit/PR guidelines"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var i=s(6540);const l={},r=i.createContext(l);function t(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);