"use strict";(self.webpackChunkrwa_docs=self.webpackChunkrwa_docs||[]).push([[972],{2446(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"development","title":"Desarrollo","description":"---","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/development.md","sourceDirName":".","slug":"/development","permalink":"/Thunderbird-Reply-with-Attachments/es/docs/development","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1757726723000,"frontMatter":{"id":"development","title":"Desarrollo","sidebar_label":"Desarrollo"},"sidebar":"docs","previous":{"title":"Permisos","permalink":"/Thunderbird-Reply-with-Attachments/es/docs/permissions"},"next":{"title":"Idiomas","permalink":"/Thunderbird-Reply-with-Attachments/es/docs/languages"}}');var l=s(4848),r=s(8453);const d={id:"development",title:"Desarrollo",sidebar_label:"Desarrollo"},c=void 0,a={},o=[{value:"Gu\xeda de desarrollo",id:"development-guide",level:2},{value:"Requisitos previos",id:"prerequisites",level:3},{value:"Estructura del proyecto (alto nivel)",id:"project-layout-high-level",level:3},{value:"Instalaci\xf3n y herramientas",id:"install-and-tooling",level:3},{value:"Desarrollo en vivo (web\u2011ext run)",id:"live-dev-web-ext",level:3},{value:"Objetivos de Make (alfab\xe9tico)",id:"make-targets-alphabetical",level:3},{value:"Consejos para compilaci\xf3n por idioma",id:"locale-build-tips",level:4},{value:"Compilar y empaquetar",id:"build-and-package",level:3},{value:"Pruebas",id:"test",level:3},{value:"Depuraci\xf3n y registros",id:"debugging-and-logs",level:3},{value:"Documentaci\xf3n (sitio web)",id:"docs-website",level:3},{value:"Ruta de redirecci\xf3n de donaci\xf3n",id:"donate-redirect",level:4},{value:"Consejos de vista previa",id:"preview-tips",level:4},{value:"Traducir el sitio web",id:"translate-website",level:4},{value:"Consejos de seguridad y configuraci\xf3n",id:"security-and-configuration-tips",level:3},{value:"Persistencia de ajustes",id:"settings-persistence",level:3},{value:"Soluci\xf3n de problemas",id:"troubleshooting",level:3},{value:"CI y cobertura",id:"ci-and-coverage",level:3},{value:"Contribuci\xf3n",id:"contributing",level:3},{value:"Traducciones",id:"traducciones",level:3},{value:"clean",id:"mt-clean",level:4},{value:"commit",id:"mt-commit",level:4},{value:"eslint",id:"mt-eslint",level:4},{value:"help",id:"mt-help",level:4},{value:"lint",id:"mt-lint",level:4},{value:"menu",id:"mt-menu",level:4},{value:"pack",id:"mt-pack",level:4},{value:"prettier",id:"mt-prettier",level:4},{value:"prettier_check",id:"mt-prettier_check",level:4},{value:"prettier_write",id:"mt-prettier_write",level:4},{value:"test",id:"mt-test",level:4},{value:"test_i18n",id:"mt-test_i18n",level:4},{value:"translate_app / translation_app",id:"mt-translation-app",level:4},{value:"translate_web_docs_batch / translate_web_docs_sync",id:"mt-translation-web",level:4},{value:"translate_web_index / translation_web_index",id:"mt-translation_web_index",level:4},{value:"web_build",id:"mt-web_build",level:4},{value:"web_build_linkcheck",id:"mt-web_build_linkcheck",level:4},{value:"web_build_local_preview",id:"mt-web_build_local_preview",level:4},{value:"web_push_github",id:"mt-web_push_github",level:4}];function t(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"development-guide",children:"Gu\xeda de desarrollo"}),"\n",(0,l.jsx)(n.admonition,{title:"Editar solo en ingl\xe9s; las traducciones se propagan",type:"note",children:(0,l.jsxs)(n.p,{children:["Actualiza la documentaci\xf3n \xfanicamente bajo ",(0,l.jsx)(n.code,{children:"website/docs"})," (ingl\xe9s). Las traducciones bajo ",(0,l.jsx)(n.code,{children:"website/i18n/<locale>/\u2026"})," se generan y no deben editarse manualmente. Usa las tareas de traducci\xf3n (p. ej., ",(0,l.jsx)(n.code,{children:"make translate_web_docs_batch"}),") para actualizar el contenido localizado."]})}),"\n",(0,l.jsx)(n.h3,{id:"prerequisites",children:"Requisitos previos"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Node.js 22+ y npm (probado con Node 22)"}),"\n",(0,l.jsx)(n.li,{children:"Thunderbird 128 ESR o m\xe1s reciente (para pruebas manuales)"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"project-layout-high-level",children:"Estructura del proyecto (alto nivel)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Ra\xedz: script de empaquetado ",(0,l.jsx)(n.code,{children:"distribution_zip_packer.sh"}),", docs, capturas de pantalla"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"sources/"}),": c\xf3digo principal del complemento (background, UI de opciones/popup, manifiestos, iconos)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"tests/"}),": suite de Vitest"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"website/"}),": documentaci\xf3n Docusaurus (con i18n bajo ",(0,l.jsx)(n.code,{children:"website/i18n/de/..."}),")"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"install-and-tooling",children:"Instalaci\xf3n y herramientas"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Instalar dependencias en la ra\xedz: ",(0,l.jsx)(n.code,{children:"npm ci"})]}),"\n",(0,l.jsxs)(n.li,{children:["Docs (opcional): ",(0,l.jsx)(n.code,{children:"cd website && npm ci"})]}),"\n",(0,l.jsxs)(n.li,{children:["Descubrir objetivos: ",(0,l.jsx)(n.code,{children:"make help"})]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"live-dev-web-ext",children:"Desarrollo en vivo (web\u2011ext run)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Ciclo r\xe1pido en Firefox Desktop (solo smoke tests de UI):"}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"npx web-ext run --source-dir sources --target=firefox-desktop"})}),"\n",(0,l.jsx)(n.li,{children:"Ejecutar en Thunderbird (preferido para MailExtensions):"}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:'npx web-ext run --source-dir sources --start-url about:addons --firefox-binary "$(command -v thunderbird || echo /path/to/thunderbird)"'})}),"\n",(0,l.jsx)(n.li,{children:"Consejos:"}),"\n",(0,l.jsx)(n.li,{children:"Mant\xe9n abierta la Consola de errores de Thunderbird (Herramientas \u2192 Herramientas de desarrollo \u2192 Consola de errores)."}),"\n",(0,l.jsx)(n.li,{children:"Las p\xe1ginas de eventos MV3 se suspenden cuando est\xe1n inactivas; recarga el complemento despu\xe9s de cambios de c\xf3digo, o deja que web\u2011ext recargue autom\xe1ticamente."}),"\n",(0,l.jsx)(n.li,{children:"Algunos comportamientos exclusivos de Firefox difieren; verifica siempre en Thunderbird para garantizar paridad de API."}),"\n",(0,l.jsx)(n.li,{children:"Rutas del binario de Thunderbird (ejemplos):"}),"\n",(0,l.jsxs)(n.li,{children:["Linux: ",(0,l.jsx)(n.code,{children:"thunderbird"})," (p. ej., ",(0,l.jsx)(n.code,{children:"/usr/bin/thunderbird"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["macOS: ",(0,l.jsx)(n.code,{children:"/Applications/Thunderbird.app/Contents/MacOS/thunderbird"})]}),"\n",(0,l.jsxs)(n.li,{children:["Windows: ",(0,l.jsx)(n.code,{children:'"C:\\\\Program Files\\\\Mozilla Thunderbird\\\\thunderbird.exe"'})]}),"\n",(0,l.jsx)(n.li,{children:"Aislamiento de perfil: usa un perfil de Thunderbird separado para desarrollo a fin de no afectar tu configuraci\xf3n diaria."}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"make-targets-alphabetical",children:"Objetivos de Make (alfab\xe9tico)"}),"\n",(0,l.jsxs)(n.p,{children:["El Makefile estandariza flujos de desarrollo comunes. Ejecuta ",(0,l.jsx)(n.code,{children:"make help"})," en cualquier momento para un resumen de una l\xednea de cada objetivo."]}),"\n",(0,l.jsxs)(n.p,{children:["Consejo: ejecutar ",(0,l.jsx)(n.code,{children:"make"})," sin objetivo abre un men\xfa Whiptail simple para elegir un objetivo."]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Objetivo"}),(0,l.jsx)(n.th,{children:"Descripci\xf3n en una l\xednea"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"#mt-clean",children:(0,l.jsx)(n.code,{children:"clean"})})}),(0,l.jsx)(n.td,{children:"Elimina artefactos locales de build/preview (tmp/, web-local-preview/, website/build/)."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"#mt-commit",children:(0,l.jsx)(n.code,{children:"commit"})})}),(0,l.jsx)(n.td,{children:"Formatea, ejecuta pruebas (incl. i18n), actualiza el changelog, hace commit y push."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"#mt-eslint",children:(0,l.jsx)(n.code,{children:"eslint"})})}),(0,l.jsxs)(n.td,{children:["Ejecuta ESLint mediante flat config (",(0,l.jsx)(n.code,{children:"npm run -s lint:eslint"}),")."]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"#mt-help",children:(0,l.jsx)(n.code,{children:"help"})})}),(0,l.jsx)(n.td,{children:"Lista todos los objetivos con documentaci\xf3n de una l\xednea (ordenados)."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"#mt-lint",children:(0,l.jsx)(n.code,{children:"lint"})})}),(0,l.jsxs)(n.td,{children:["web\u2011ext lint en ",(0,l.jsx)(n.code,{children:"sources/"})," (manifiesto temporal; ignora ZIPs; no fatal)."]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"#mt-menu",children:(0,l.jsx)(n.code,{children:"menu"})})}),(0,l.jsx)(n.td,{children:"Men\xfa interactivo para seleccionar un objetivo y argumentos opcionales."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"#mt-pack",children:(0,l.jsx)(n.code,{children:"pack"})})}),(0,l.jsx)(n.td,{children:"Construye ZIPs ATN y LOCAL (ejecuta linter; llama al script de empaquetado)."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"#mt-prettier",children:(0,l.jsx)(n.code,{children:"prettier"})})}),(0,l.jsx)(n.td,{children:"Formatea el repositorio in\u2011place (escribe cambios)."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"#mt-prettier_check",children:(0,l.jsx)(n.code,{children:"prettier_check"})})}),(0,l.jsx)(n.td,{children:"Prettier en modo verificaci\xf3n (sin escribir); falla si se requiere reformatear."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"#mt-prettier_write",children:(0,l.jsx)(n.code,{children:"prettier_write"})})}),(0,l.jsxs)(n.td,{children:["Alias de ",(0,l.jsx)(n.code,{children:"prettier"}),"."]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"#mt-test",children:(0,l.jsx)(n.code,{children:"test"})})}),(0,l.jsx)(n.td,{children:"Prettier (write), ESLint y luego Vitest (cobertura si est\xe1 configurado)."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"#mt-test_i18n",children:(0,l.jsx)(n.code,{children:"test_i18n"})})}),(0,l.jsx)(n.td,{children:"Pruebas solo de i18n: placeholders/paridad del complemento + paridad del sitio web."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"#mt-translation-app",children:(0,l.jsx)(n.code,{children:"translate_app"})})}),(0,l.jsxs)(n.td,{children:["Alias de ",(0,l.jsx)(n.code,{children:"translation_app"}),"."]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"#mt-translation-app",children:(0,l.jsx)(n.code,{children:"translation_app"})})}),(0,l.jsxs)(n.td,{children:["Traduce cadenas de la UI de la app desde ",(0,l.jsx)(n.code,{children:"sources/_locales/en/messages.json"}),"."]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"#mt-translation-web",children:(0,l.jsx)(n.code,{children:"translate_web_docs_batch"})})}),(0,l.jsx)(n.td,{children:"Traduce la documentaci\xf3n del sitio web v\xeda OpenAI Batch API (preferido)."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"#mt-translation-web",children:(0,l.jsx)(n.code,{children:"translate_web_docs_sync"})})}),(0,l.jsx)(n.td,{children:"Traduce la documentaci\xf3n del sitio web de forma sincr\xf3nica (heredado, sin lotes)."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"#mt-translation_web_index",children:(0,l.jsx)(n.code,{children:"translate_web_index"})})}),(0,l.jsxs)(n.td,{children:["Alias de ",(0,l.jsx)(n.code,{children:"translation_web_index"}),"."]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"#mt-translation_web_index",children:(0,l.jsx)(n.code,{children:"translation_web_index"})})}),(0,l.jsxs)(n.td,{children:["Traduce UI de homepage/navbar/footer (",(0,l.jsx)(n.code,{children:"website/i18n/en/code.json \u2192 .../<lang>/code.json"}),")."]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"#mt-web_build",children:(0,l.jsx)(n.code,{children:"web_build"})})}),(0,l.jsxs)(n.td,{children:["Construye docs a ",(0,l.jsx)(n.code,{children:"website/build"})," (soporta ",(0,l.jsx)(n.code,{children:"--locales"})," / ",(0,l.jsx)(n.code,{children:"BUILD_LOCALES"}),")."]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"#mt-web_build_linkcheck",children:(0,l.jsx)(n.code,{children:"web_build_linkcheck"})})}),(0,l.jsx)(n.td,{children:"Comprobaci\xf3n de enlaces segura sin conexi\xf3n (omite HTTP[S] remotos)."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"#mt-web_build_local_preview",children:(0,l.jsx)(n.code,{children:"web_build_local_preview"})})}),(0,l.jsx)(n.td,{children:"Vista previa local de gh\u2011pages; sirve autom\xe1ticamente en 8080\u20138090; tests/link\u2011check opc."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"#mt-web_push_github",children:(0,l.jsx)(n.code,{children:"web_push_github"})})}),(0,l.jsxs)(n.td,{children:["Hace push de ",(0,l.jsx)(n.code,{children:"website/build"})," a la rama ",(0,l.jsx)(n.code,{children:"gh-pages"}),"."]})]})]})]}),"\n",(0,l.jsx)(n.p,{children:"Sintaxis de opciones"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Usa ",(0,l.jsx)(n.code,{children:'make <command> OPTS="\u2026"'})," para pasar opciones (se recomiendan comillas). Cada objetivo abajo muestra ejemplos de uso."]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"--"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"locale-build-tips",children:"Consejos para compilaci\xf3n por idioma"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Construir un subconjunto de locales: define ",(0,l.jsx)(n.code,{children:'BUILD_LOCALES="en de"'})," o pasa ",(0,l.jsx)(n.code,{children:'OPTS="--locales en,de"'})," a objetivos web."]}),"\n",(0,l.jsxs)(n.li,{children:["Previsualizar un locale espec\xedfico: ",(0,l.jsx)(n.code,{children:"http://localhost:<port>/Thunderbird-Reply-with-Attachments/de/"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"build-and-package",children:"Compilar y empaquetar"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Construir ZIPs: ",(0,l.jsx)(n.code,{children:"make pack"})]}),"\n",(0,l.jsx)(n.li,{children:"Produce ZIPs ATN y LOCAL en la ra\xedz del repositorio (no edites los artefactos a mano)"}),"\n",(0,l.jsxs)(n.li,{children:["Consejo: actualiza la versi\xf3n en ",(0,l.jsx)(n.code,{children:"sources/manifest_ATN.json"})," y ",(0,l.jsx)(n.code,{children:"sources/manifest_LOCAL.json"})," antes de empaquetar"]}),"\n",(0,l.jsx)(n.li,{children:"Instalaci\xf3n manual (dev): Thunderbird \u2192 Herramientas \u2192 Complementos y temas \u2192 engranaje \u2192 Instalar complemento desde archivo\u2026 \u2192 selecciona el ZIP generado"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"test",children:"Pruebas"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Suite completa: ",(0,l.jsx)(n.code,{children:"make test"})," (Vitest)"]}),"\n",(0,l.jsx)(n.li,{children:"Cobertura (opcional):"}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"npm i -D @vitest/coverage-v8"})}),"\n",(0,l.jsxs)(n.li,{children:["Ejecuta ",(0,l.jsx)(n.code,{children:"make test"}),"; abre ",(0,l.jsx)(n.code,{children:"coverage/index.html"})," para el informe HTML"]}),"\n",(0,l.jsxs)(n.li,{children:["Solo i18n: ",(0,l.jsx)(n.code,{children:"make test_i18n"})," (claves/placeholders/t\xedtulos de UI + paridad por locale y por doc del sitio con comprobaciones de id/title/sidebar_label)"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"debugging-and-logs",children:"Depuraci\xf3n y registros"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Consola de errores: Herramientas \u2192 Herramientas de desarrollo \u2192 Consola de errores"}),"\n",(0,l.jsx)(n.li,{children:"Cambiar registros detallados en tiempo de ejecuci\xf3n:"}),"\n",(0,l.jsxs)(n.li,{children:["Habilitar: ",(0,l.jsx)(n.code,{children:"messenger.storage.local.set({ debug: true })"})]}),"\n",(0,l.jsxs)(n.li,{children:["Deshabilitar: ",(0,l.jsx)(n.code,{children:"messenger.storage.local.set({ debug: false })"})]}),"\n",(0,l.jsx)(n.li,{children:"Los registros aparecen al redactar/enviar respuestas"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"docs-website",children:"Documentaci\xf3n (sitio web)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Servidor de desarrollo: ",(0,l.jsx)(n.code,{children:"cd website && npm run start"})]}),"\n",(0,l.jsxs)(n.li,{children:["Construir sitio est\xe1tico: ",(0,l.jsx)(n.code,{children:"cd website && npm run build"})]}),"\n",(0,l.jsxs)(n.li,{children:["Equivalentes en Make (alfab\xe9tico): ",(0,l.jsx)(n.code,{children:"make web_build"}),", ",(0,l.jsx)(n.code,{children:"make web_build_linkcheck"}),", ",(0,l.jsx)(n.code,{children:"make web_build_local_preview"}),", ",(0,l.jsx)(n.code,{children:"make web_push_github"})]}),"\n",(0,l.jsx)(n.li,{children:"Ejemplos de uso:"}),"\n",(0,l.jsxs)(n.li,{children:["Solo EN, omitir tests/link\u2011check, sin push: ",(0,l.jsx)(n.code,{children:'make web_build_local_preview OPTS="--locales en --no-test --no-link-check --dry-run"'})]}),"\n",(0,l.jsxs)(n.li,{children:["Todos los locales, con tests/link\u2011check y luego push: ",(0,l.jsx)(n.code,{children:"make web_build_local_preview && make web_push_github"})]}),"\n",(0,l.jsxs)(n.li,{children:["Antes de publicar, ejecuta la comprobaci\xf3n de enlaces segura sin conexi\xf3n: ",(0,l.jsx)(n.code,{children:"make web_build_linkcheck"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["i18n: el ingl\xe9s vive en ",(0,l.jsx)(n.code,{children:"website/docs/*.md"}),"; traducciones al alem\xe1n en ",(0,l.jsx)(n.code,{children:"website/i18n/de/docusaurus-plugin-content-docs/current/*.md"})]}),"\n",(0,l.jsxs)(n.li,{children:["B\xfasqueda: si las variables de entorno de Algolia DocSearch est\xe1n definidas en CI (",(0,l.jsx)(n.code,{children:"DOCSEARCH_APP_ID"}),", ",(0,l.jsx)(n.code,{children:"DOCSEARCH_API_KEY"}),", ",(0,l.jsx)(n.code,{children:"DOCSEARCH_INDEX_NAME"}),"), el sitio usa b\xfasqueda de Algolia; de lo contrario, recurre a b\xfasqueda local. En la p\xe1gina de inicio, pulsa ",(0,l.jsx)(n.code,{children:"/"})," o ",(0,l.jsx)(n.code,{children:"Ctrl+K"})," para abrir el cuadro de b\xfasqueda."]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h4,{id:"donate-redirect",children:"Ruta de redirecci\xf3n de donaci\xf3n"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"website/src/pages/donate.js"})}),"\n",(0,l.jsxs)(n.li,{children:["Ruta: ",(0,l.jsx)(n.code,{children:"/donate"})," (y ",(0,l.jsx)(n.code,{children:"/<locale>/donate"}),")"]}),"\n",(0,l.jsx)(n.li,{children:"Comportamiento:"}),"\n",(0,l.jsxs)(n.li,{children:["Si la ruta actual tiene un locale (p. ej., ",(0,l.jsx)(n.code,{children:"/de/donate"}),"), \xfasalo"]}),"\n",(0,l.jsxs)(n.li,{children:["De lo contrario, elige la mejor coincidencia de ",(0,l.jsx)(n.code,{children:"navigator.languages"})," frente a los locales configurados; recurrir al locale predeterminado"]}),"\n",(0,l.jsx)(n.li,{children:"Redirige a:"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"en"})," \u2192 ",(0,l.jsx)(n.code,{children:"/docs/donation"})]}),"\n",(0,l.jsxs)(n.li,{children:["otros \u2192 ",(0,l.jsx)(n.code,{children:"/<locale>/docs/donation"})]}),"\n",(0,l.jsxs)(n.li,{children:["Usa ",(0,l.jsx)(n.code,{children:"useBaseUrl"})," para un manejo correcto de baseUrl"]}),"\n",(0,l.jsxs)(n.li,{children:["Incluye meta refresh + enlace ",(0,l.jsx)(n.code,{children:"noscript"})," como alternativa"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h4,{id:"preview-tips",children:"Consejos de vista previa"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Det\xe9n la vista previa de Node limpiamente: abre ",(0,l.jsx)(n.code,{children:"http://localhost:<port>/__stop"})," (impreso despu\xe9s de ",(0,l.jsx)(n.code,{children:"Local server started"}),")."]}),"\n",(0,l.jsxs)(n.li,{children:["Si las im\xe1genes no cargan en MDX/JSX, usa ",(0,l.jsx)(n.code,{children:"useBaseUrl('/img/...')"})," para respetar el ",(0,l.jsx)(n.code,{children:"baseUrl"})," del sitio."]}),"\n",(0,l.jsx)(n.li,{children:"La vista previa inicia primero; la comprobaci\xf3n de enlaces se ejecuta despu\xe9s y no bloquea (los enlaces externos rotos no detendr\xe1n la vista previa)."}),"\n",(0,l.jsxs)(n.li,{children:["URL de vista previa de ejemplo: ",(0,l.jsx)(n.code,{children:"http://localhost:<port>/Thunderbird-Reply-with-Attachments/"})," (impresa despu\xe9s de \u201cLocal server started\u201d)."]}),"\n",(0,l.jsx)(n.li,{children:"Enlaces externos en link\u2011check: algunos sitios externos (p. ej., addons.thunderbird.net) bloquean rastreadores automatizados y pueden mostrar 403 en las comprobaciones de enlaces. La vista previa a\xfan se inicia; es seguro ignorarlos."}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h4,{id:"translate-website",children:"Traducir el sitio web"}),"\n",(0,l.jsx)(n.p,{children:"Qu\xe9 puedes traducir"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Solo la UI del sitio web: p\xe1gina de inicio, barra de navegaci\xf3n, pie de p\xe1gina y otras cadenas de UI. El contenido de la documentaci\xf3n permanece solo en ingl\xe9s por ahora."}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"D\xf3nde editar"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Edita ",(0,l.jsx)(n.code,{children:"website/i18n/<locale>/code.json"})," (usa ",(0,l.jsx)(n.code,{children:"en"})," como referencia). Mant\xe9n sin cambios placeholders como ",(0,l.jsx)(n.code,{children:"{year}"}),", ",(0,l.jsx)(n.code,{children:"{slash}"}),", ",(0,l.jsx)(n.code,{children:"{ctrl}"}),", ",(0,l.jsx)(n.code,{children:"{k}"}),", ",(0,l.jsx)(n.code,{children:"{code1}"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Generar o actualizar archivos"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Crear stubs faltantes para todos los locales: ",(0,l.jsx)(n.code,{children:"npm --prefix website run i18n:stubs"})]}),"\n",(0,l.jsxs)(n.li,{children:["Sobrescribir stubs desde ingl\xe9s (tras agregar cadenas nuevas): ",(0,l.jsx)(n.code,{children:"npm --prefix website run i18n:stubs:force"})]}),"\n",(0,l.jsxs)(n.li,{children:["Alternativa para un solo locale: ",(0,l.jsx)(n.code,{children:"npx --prefix website docusaurus write-translations --locale <locale>"})]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Traducir cadenas de UI de homepage/navbar/footer (OpenAI)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Establece credenciales una vez (shell o .env):"}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"export OPENAI_API_KEY=sk-..."})}),"\n",(0,l.jsxs)(n.li,{children:["Opcional: ",(0,l.jsx)(n.code,{children:"export OPENAI_MODEL=gpt-4o-mini"})]}),"\n",(0,l.jsxs)(n.li,{children:["De una sola vez (todos los locales, omite en): ",(0,l.jsx)(n.code,{children:"make translate_web_index"})]}),"\n",(0,l.jsxs)(n.li,{children:["Limitar a locales espec\xedficos: ",(0,l.jsx)(n.code,{children:'make translate_web_index OPTS="--locales de,fr"'})]}),"\n",(0,l.jsxs)(n.li,{children:["Sobrescribir valores existentes: ",(0,l.jsx)(n.code,{children:'make translate_web_index OPTS="--force"'})]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Validaci\xf3n y reintentos"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"El script de traducci\xf3n valida la forma del JSON, preserva los placeholders entre llaves y asegura que las URL no cambien."}),"\n",(0,l.jsx)(n.li,{children:"Si falla la validaci\xf3n, reintenta con feedback hasta 2 veces antes de mantener los valores existentes."}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Previsualiza tu locale"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Servidor de desarrollo: ",(0,l.jsx)(n.code,{children:"npm --prefix website run start"})]}),"\n",(0,l.jsxs)(n.li,{children:["Visita ",(0,l.jsx)(n.code,{children:"http://localhost:3000/<locale>/Thunderbird-Reply-with-Attachments/"})]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Env\xedo"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Abre un PR con el/los archivo(s) ",(0,l.jsx)(n.code,{children:"code.json"})," editado(s). Mant\xe9n los cambios enfocados e incluye una captura r\xe1pida cuando sea posible."]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"security-and-configuration-tips",children:"Consejos de seguridad y configuraci\xf3n"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["No confirmes ",(0,l.jsx)(n.code,{children:"sources/manifest.json"})," (creado temporalmente por el build)"]}),"\n",(0,l.jsxs)(n.li,{children:["Mant\xe9n ",(0,l.jsx)(n.code,{children:"browser_specific_settings.gecko.id"})," estable para preservar el canal de actualizaciones"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"settings-persistence",children:"Persistencia de ajustes"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Almacenamiento: todos los ajustes del usuario residen en ",(0,l.jsx)(n.code,{children:"storage.local"})," y persisten a trav\xe9s de actualizaciones del complemento."]}),"\n",(0,l.jsx)(n.li,{children:"Instalaci\xf3n: los valores predeterminados se aplican solo cuando una clave falta estrictamente (undefined)."}),"\n",(0,l.jsx)(n.li,{children:"Actualizaci\xf3n: una migraci\xf3n rellena solo claves faltantes; los valores existentes nunca se sobrescriben."}),"\n",(0,l.jsxs)(n.li,{children:["Marcador de esquema: ",(0,l.jsx)(n.code,{children:"settingsVersion"})," (actualmente ",(0,l.jsx)(n.code,{children:"1"}),")."]}),"\n",(0,l.jsx)(n.li,{children:"Claves y valores predeterminados:"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"blacklistPatterns: string[]"})," \u2192 ",(0,l.jsx)(n.code,{children:"['*intern*', '*secret*', '*passwor*']"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"confirmBeforeAdd: boolean"})," \u2192 ",(0,l.jsx)(n.code,{children:"false"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"confirmDefaultChoice: 'yes'|'no'"})," \u2192 ",(0,l.jsx)(n.code,{children:"'yes'"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"warnOnBlacklistExcluded: boolean"})," \u2192 ",(0,l.jsx)(n.code,{children:"true"})]}),"\n",(0,l.jsxs)(n.li,{children:["C\xf3digo: ver ",(0,l.jsx)(n.code,{children:"sources/background.js"})," \u2192 ",(0,l.jsx)(n.code,{children:"initializeOrMigrateSettings()"})," y ",(0,l.jsx)(n.code,{children:"SCHEMA_VERSION"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Flujo de desarrollo (a\xf1adir un ajuste nuevo)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Incrementa ",(0,l.jsx)(n.code,{children:"SCHEMA_VERSION"})," en ",(0,l.jsx)(n.code,{children:"sources/background.js"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["A\xf1ade la nueva clave + valor predeterminado al objeto ",(0,l.jsx)(n.code,{children:"DEFAULTS"})," en ",(0,l.jsx)(n.code,{children:"initializeOrMigrateSettings()"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"Usa la regla \u201csolo si es undefined\u201d al sembrar predeterminados; no sobrescribas valores existentes."}),"\n",(0,l.jsxs)(n.li,{children:["Si el ajuste es visible para el usuario, int\xe9gralo en ",(0,l.jsx)(n.code,{children:"sources/options.js"})," y a\xf1ade cadenas localizadas."]}),"\n",(0,l.jsxs)(n.li,{children:["A\xf1ade/ajusta pruebas (ver ",(0,l.jsx)(n.code,{children:"tests/background.settings.migration.test.js"}),")."]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Consejos de pruebas manuales"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Simula una instalaci\xf3n nueva: borra el directorio de datos de la extensi\xf3n o inicia con un perfil nuevo."}),"\n",(0,l.jsxs)(n.li,{children:["Simula una actualizaci\xf3n: establece ",(0,l.jsx)(n.code,{children:"settingsVersion"})," en ",(0,l.jsx)(n.code,{children:"0"})," en ",(0,l.jsx)(n.code,{children:"storage.local"})," y recarga; confirma que los valores existentes permanecen sin cambios y solo se agregan claves faltantes."]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"troubleshooting",children:"Soluci\xf3n de problemas"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Aseg\xfarate de que Thunderbird sea 128 ESR o m\xe1s reciente"}),"\n",(0,l.jsx)(n.li,{children:"Usa la Consola de errores para problemas en tiempo de ejecuci\xf3n"}),"\n",(0,l.jsx)(n.li,{children:"Si parece que los ajustes almacenados no se aplican correctamente, reinicia Thunderbird e int\xe9ntalo de nuevo. (Thunderbird puede mantener estado en cach\xe9 entre sesiones; un reinicio garantiza que se carguen los ajustes nuevos)."}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"ci-and-coverage",children:"CI y cobertura"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["GitHub Actions (",(0,l.jsx)(n.code,{children:"CI \u2014 Tests"}),") ejecuta vitest con umbrales de cobertura (85% l\xedneas/funciones/ramas/declaraciones). Si no se cumplen, el job falla."]}),"\n",(0,l.jsxs)(n.li,{children:["El flujo de trabajo sube un artefacto ",(0,l.jsx)(n.code,{children:"coverage-html"})," con el informe HTML; desc\xe1rgalo desde la p\xe1gina de la ejecuci\xf3n (Actions \u2192 \xfaltima ejecuci\xf3n \u2192 Artifacts)."]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"contributing",children:"Contribuci\xf3n"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Consulta CONTRIBUTING.md para pautas de ramas/commits/PR"}),"\n",(0,l.jsx)(n.li,{children:"Consejo: crea un perfil de desarrollo de Thunderbird separado para pruebas a fin de no afectar tu perfil diario."}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"traducciones",children:"Traducciones"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Ejecutar trabajos grandes de traducci\xf3n \u201ctodo \u2192 todo\u201d puede ser lento y costoso. Empieza con un subconjunto (p. ej., algunos docs y 1\u20132 locales), revisa el resultado y luego expande."}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Pol\xedtica de reintentos: los trabajos de traducci\xf3n realizan hasta 3 reintentos con backoff exponencial ante errores de API; consulta ",(0,l.jsx)(n.code,{children:"scripts/translate_web_docs_batch.js"})," y ",(0,l.jsx)(n.code,{children:"scripts/translate_web_docs_sync.js"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Capturas de pantalla para la documentaci\xf3n"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Guarda las im\xe1genes bajo ",(0,l.jsx)(n.code,{children:"website/static/img/"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Haz referencia a ellas en MD/MDX mediante ",(0,l.jsx)(n.code,{children:"useBaseUrl('/img/<filename>')"})," para que las rutas funcionen con el ",(0,l.jsx)(n.code,{children:"baseUrl"})," del sitio."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Tras a\xf1adir o renombrar im\xe1genes bajo ",(0,l.jsx)(n.code,{children:"website/static/img/"}),", confirma que todas las referencias a\xfan usan ",(0,l.jsx)(n.code,{children:"useBaseUrl('/img/\u2026')"})," y se renderizan en una vista previa local.\nFavicons"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["El ",(0,l.jsx)(n.code,{children:"favicon.ico"})," multi\u2011tama\xf1o se genera autom\xe1ticamente en todas las rutas de build (Make + scripts) mediante ",(0,l.jsx)(n.code,{children:"website/scripts/build-favicon.mjs"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["No se requiere paso manual; con actualizar ",(0,l.jsx)(n.code,{children:"icon-*.png"})," basta.\nConsejo de revisi\xf3n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Mant\xe9n el ",(0,l.jsx)(n.code,{children:"id"})," del front\u2011matter sin cambios en los docs traducidos; traduce solo ",(0,l.jsx)(n.code,{children:"title"})," y ",(0,l.jsx)(n.code,{children:"sidebar_label"})," cuando existan."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"mt-clean",children:"clean"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Prop\xf3sito: eliminar artefactos locales de build/preview."}),"\n",(0,l.jsxs)(n.li,{children:["Uso: ",(0,l.jsx)(n.code,{children:"make clean"})]}),"\n",(0,l.jsx)(n.li,{children:"Elimina (si existen):"}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"tmp/"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"web-local-preview/"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"website/build/"})}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h4,{id:"mt-commit",children:"commit"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Prop\xf3sito: formatear, probar, actualizar changelog, hacer commit y push."}),"\n",(0,l.jsxs)(n.li,{children:["Uso: ",(0,l.jsx)(n.code,{children:"make commit"})]}),"\n",(0,l.jsxs)(n.li,{children:["Detalles: ejecuta Prettier (write), ",(0,l.jsx)(n.code,{children:"make test"}),", ",(0,l.jsx)(n.code,{children:"make test_i18n"}),"; a\xf1ade al changelog cuando hay diffs en stage; hace push a ",(0,l.jsx)(n.code,{children:"origin/<branch>"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h4,{id:"mt-eslint",children:"eslint"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Prop\xf3sito: ejecutar ESLint mediante flat config."}),"\n",(0,l.jsxs)(n.li,{children:["Uso: ",(0,l.jsx)(n.code,{children:"make eslint"})]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h4,{id:"mt-help",children:"help"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Prop\xf3sito: listar todos los objetivos con documentaci\xf3n de una l\xednea."}),"\n",(0,l.jsxs)(n.li,{children:["Uso: ",(0,l.jsx)(n.code,{children:"make help"})]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h4,{id:"mt-lint",children:"lint"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Prop\xf3sito: lint del MailExtension usando ",(0,l.jsx)(n.code,{children:"web-ext"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Uso: ",(0,l.jsx)(n.code,{children:"make lint"})]}),"\n",(0,l.jsxs)(n.li,{children:["Notas: copia temporal ",(0,l.jsx)(n.code,{children:"sources/manifest_LOCAL.json"})," \u2192 ",(0,l.jsx)(n.code,{children:"sources/manifest.json"}),"; ignora ZIPs generados; las advertencias no fallan la canalizaci\xf3n."]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h4,{id:"mt-menu",children:"menu"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Prop\xf3sito: men\xfa interactivo para seleccionar un objetivo de Make y argumentos opcionales."}),"\n",(0,l.jsxs)(n.li,{children:["Uso: ejecuta ",(0,l.jsx)(n.code,{children:"make"})," sin argumentos."]}),"\n",(0,l.jsxs)(n.li,{children:["Notas: si ",(0,l.jsx)(n.code,{children:"whiptail"})," no est\xe1 disponible, el men\xfa recurre a ",(0,l.jsx)(n.code,{children:"make help"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h4,{id:"mt-pack",children:"pack"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Prop\xf3sito: construir ZIPs ATN y LOCAL (depende de ",(0,l.jsx)(n.code,{children:"lint"}),")."]}),"\n",(0,l.jsxs)(n.li,{children:["Uso: ",(0,l.jsx)(n.code,{children:"make pack"})]}),"\n",(0,l.jsxs)(n.li,{children:["Consejo: incrementa versiones en ",(0,l.jsx)(n.code,{children:"sources/manifest_*.json"})," antes de empaquetar."]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h4,{id:"mt-prettier",children:"prettier"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Prop\xf3sito: formatear el repo in\u2011place."}),"\n",(0,l.jsxs)(n.li,{children:["Uso: ",(0,l.jsx)(n.code,{children:"make prettier"})]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"mt-prettier_check",children:"prettier_check"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Prop\xf3sito: verificar formato (sin escribir)."}),"\n",(0,l.jsxs)(n.li,{children:["Uso: ",(0,l.jsx)(n.code,{children:"make prettier_check"})]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"mt-prettier_write",children:"prettier_write"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Prop\xf3sito: alias de ",(0,l.jsx)(n.code,{children:"prettier"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Uso: ",(0,l.jsx)(n.code,{children:"make prettier_write"})]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h4,{id:"mt-test",children:"test"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Prop\xf3sito: ejecutar Prettier (write), ESLint y luego Vitest (cobertura si est\xe1 instalado)."}),"\n",(0,l.jsxs)(n.li,{children:["Uso: ",(0,l.jsx)(n.code,{children:"make test"})]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"mt-test_i18n",children:"test_i18n"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Prop\xf3sito: pruebas centradas en i18n para cadenas del complemento y docs del sitio web."}),"\n",(0,l.jsxs)(n.li,{children:["Uso: ",(0,l.jsx)(n.code,{children:"make test_i18n"})]}),"\n",(0,l.jsxs)(n.li,{children:["Ejecuta: ",(0,l.jsx)(n.code,{children:"npm run test:i18n"})," y ",(0,l.jsx)(n.code,{children:"npm run -s test:website-i18n"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h4,{id:"mt-translation-app",children:"translate_app / translation_app"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Prop\xf3sito: traducir cadenas de la UI del complemento de EN a otros locales."}),"\n",(0,l.jsxs)(n.li,{children:["Uso: ",(0,l.jsx)(n.code,{children:'make translation_app OPTS="--locales all|de,fr"'})]}),"\n",(0,l.jsxs)(n.li,{children:["Notas: preserva la estructura de claves y placeholders; registra en ",(0,l.jsx)(n.code,{children:"translation_app.log"}),". Forma de script: ",(0,l.jsx)(n.code,{children:"node scripts/translate_app.js --locales \u2026"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"mt-translation-web",children:"translate_web_docs_batch / translate_web_docs_sync"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Prop\xf3sito: traducir docs del sitio web desde ",(0,l.jsx)(n.code,{children:"website/docs/*.md"})," a ",(0,l.jsx)(n.code,{children:"website/i18n/<locale>/..."}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Preferido: ",(0,l.jsx)(n.code,{children:"translate_web_docs_batch"})," (OpenAI Batch API)","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Uso (flags): ",(0,l.jsx)(n.code,{children:'make translate_web_docs_batch OPTS="--files <doc1,doc2|all> --locales <lang1,lang2|all>"'})]}),"\n",(0,l.jsxs)(n.li,{children:["Posicional heredado a\xfan aceptado: ",(0,l.jsx)(n.code,{children:'OPTS="<doc|all> <lang|all>"'})]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"Comportamiento: construye JSONL, sube, consulta cada 30s, descarga resultados y escribe archivos."}),"\n",(0,l.jsx)(n.li,{children:"Nota: un trabajo por lotes puede tardar hasta 24 horas en completarse (seg\xfan la ventana de batch de OpenAI). La consola muestra el tiempo transcurrido en cada consulta."}),"\n",(0,l.jsxs)(n.li,{children:["Entorno: ",(0,l.jsx)(n.code,{children:"OPENAI_API_KEY"})," (requerido), opcionales ",(0,l.jsx)(n.code,{children:"OPENAI_MODEL"}),", ",(0,l.jsx)(n.code,{children:"OPENAI_TEMPERATURE"}),", ",(0,l.jsx)(n.code,{children:"OPENAI_BATCH_WINDOW"})," (predeterminado 24h), ",(0,l.jsx)(n.code,{children:"BATCH_POLL_INTERVAL_MS"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Heredado: ",(0,l.jsx)(n.code,{children:"translate_web_docs_sync"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Uso (flags): ",(0,l.jsx)(n.code,{children:'make translate_web_docs_sync OPTS="--files <doc1,doc2|all> --locales <lang1,lang2|all>"'})]}),"\n",(0,l.jsxs)(n.li,{children:["Posicional heredado a\xfan aceptado: ",(0,l.jsx)(n.code,{children:'OPTS="<doc|all> <lang|all>"'})]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"Comportamiento: solicitudes sincr\xf3nicas por par (sin agregaci\xf3n por lotes)."}),"\n",(0,l.jsxs)(n.li,{children:["Notas: indicaciones interactivas cuando se omite ",(0,l.jsx)(n.code,{children:"OPTS"}),". Ambos modos preservan bloques de c\xf3digo/c\xf3digo en l\xednea y mantienen ",(0,l.jsx)(n.code,{children:"id"})," del front\u2011matter sin cambios; registra en ",(0,l.jsx)(n.code,{children:"translation_web_batch.log"})," (batch) o ",(0,l.jsx)(n.code,{children:"translation_web_sync.log"})," (sync)."]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h4,{id:"mt-translation_web_index",children:"translate_web_index / translation_web_index"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Prop\xf3sito: traducir cadenas de UI del sitio (homepage, navbar, footer) de ",(0,l.jsx)(n.code,{children:"website/i18n/en/code.json"})," a todos los locales en ",(0,l.jsx)(n.code,{children:"website/i18n/<locale>/code.json"})," (excluyendo ",(0,l.jsx)(n.code,{children:"en"}),")."]}),"\n",(0,l.jsxs)(n.li,{children:["Uso: ",(0,l.jsx)(n.code,{children:"make translate_web_index"})," o ",(0,l.jsx)(n.code,{children:'make translate_web_index OPTS="--locales de,fr [--force]"'})]}),"\n",(0,l.jsxs)(n.li,{children:["Requisitos: exportar ",(0,l.jsx)(n.code,{children:"OPENAI_API_KEY"})," (opcional: ",(0,l.jsx)(n.code,{children:"OPENAI_MODEL=gpt-4o-mini"}),")."]}),"\n",(0,l.jsx)(n.li,{children:"Comportamiento: valida la estructura JSON, preserva placeholders entre llaves, mantiene las URL sin cambios y reintenta con feedback ante errores de validaci\xf3n."}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h4,{id:"mt-web_build",children:"web_build"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Prop\xf3sito: construir el sitio de docs a ",(0,l.jsx)(n.code,{children:"website/build"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Uso: ",(0,l.jsx)(n.code,{children:'make web_build OPTS="--locales en|de,en|all"'})," (o define ",(0,l.jsx)(n.code,{children:'BUILD_LOCALES="en de"'}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["Internos: ",(0,l.jsx)(n.code,{children:"node ./node_modules/@docusaurus/core/bin/docusaurus.mjs build [--locale \u2026]"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Dependencias: ejecuta ",(0,l.jsx)(n.code,{children:"npm ci"})," en ",(0,l.jsx)(n.code,{children:"website/"})," solo si falta ",(0,l.jsx)(n.code,{children:"website/node_modules/@docusaurus"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"mt-web_build_linkcheck",children:"web_build_linkcheck"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Prop\xf3sito: comprobaci\xf3n de enlaces segura sin conexi\xf3n."}),"\n",(0,l.jsxs)(n.li,{children:["Uso: ",(0,l.jsx)(n.code,{children:'make web_build_linkcheck OPTS="--locales en|all"'})]}),"\n",(0,l.jsxs)(n.li,{children:["Notas: construye a ",(0,l.jsx)(n.code,{children:"tmp_linkcheck_web_pages"}),"; reescribe GH Pages ",(0,l.jsx)(n.code,{children:"baseUrl"})," a ",(0,l.jsx)(n.code,{children:"/"}),"; omite enlaces HTTP(S) remotos."]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"mt-web_build_local_preview",children:"web_build_local_preview"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Prop\xf3sito: vista previa local de gh\u2011pages con tests/link\u2011check opcionales."}),"\n",(0,l.jsxs)(n.li,{children:["Uso: ",(0,l.jsx)(n.code,{children:'make web_build_local_preview OPTS="--locales en|all [--no-test] [--no-link-check] [--dry-run] [--no-serve]"'})]}),"\n",(0,l.jsxs)(n.li,{children:["Comportamiento: intenta primero el servidor de vista previa de Node (",(0,l.jsx)(n.code,{children:"scripts/preview-server.mjs"}),", soporta ",(0,l.jsx)(n.code,{children:"/__stop"}),"), recurre a ",(0,l.jsx)(n.code,{children:"python3 -m http.server"}),"; sirve en 8080\u20138090; PID en ",(0,l.jsx)(n.code,{children:"web-local-preview/.server.pid"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"mt-web_push_github",children:"web_push_github"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Prop\xf3sito: hacer push de ",(0,l.jsx)(n.code,{children:"website/build"})," a la rama ",(0,l.jsx)(n.code,{children:"gh-pages"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Uso: ",(0,l.jsx)(n.code,{children:"make web_push_github"})]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Consejo: define ",(0,l.jsx)(n.code,{children:"NPM=\u2026"})," para reemplazar el gestor de paquetes usado por el Makefile (predeterminado ",(0,l.jsx)(n.code,{children:"npm"}),")."]}),"\n",(0,l.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(t,{...e})}):t(e)}},8453(e,n,s){s.d(n,{R:()=>d,x:()=>c});var i=s(6540);const l={},r=i.createContext(l);function d(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);