---
id: usage
title: 'Колдонуу'
sidebar_label: 'Колдонуу'
---

---

## Колдонуу {#usage}

- Жооп бериңиз, ошондо кошумча модуль түпнуска тиркемелерди автоматтык түрдө кошот — же алгач сурайт, эгер Параметрлерде (Options) иштетилген болсо.
- Дубликаттар файлдын аты боюнча жокко чыгарылат; S/MIME бөлүктөрү дайыма өткөрүлөт. Демейки боюнча инлайн сүрөттөр жооп тексти ичинде калыбына келтирилет (Параметрлерден "Include inline pictures" аркылуу өчүрө аласыз).
- Кара тизмедеги тиркемелер да өткөрүлөт (регистрге сезимсиз glob үлгүлөрү файл аталыштарына гана дал келет, жолдорго эмес). Караңыз: [Конфигурация](configuration#blacklist-glob-patterns).

---

### Жооп бергенде эмне болот {#what-happens}

- Жоопту аныктоо → түпнуска тиркемелерди тизүү → S/MIME + инлайн бөлүктөрүн чыпкалоо → кааласаңыз ырастауу → ылайыктуу файлдарды кошуу (дубликаттарды өткөрүү) → инлайн сүрөттөрдү текст ичинде калыбына келтирүү.

Катуу жана жумшак өтүү: Кошумча модуль алгач файл тиркемелеринен S/MIME жана инлайн бөлүктөрүн четтетет. Эгер эч нерсе жарабаса, ал S/MIME/инлайн бөлүктөрүн дагы эле четтеткен, бирок көбүрөөк учурларды кабыл алган жумшак өтүүнү жүргүзөт (Коддун чоо-жайын караңыз). Инлайн сүрөттөр эч качан файл тиркемеси катары кошулбайт; анын ордуна, "Include inline pictures" иштетилгенде (демейки боюнча), алар жооп тексти ичинде түз эле base64 data URI катары камтылат.

| Бөлүктүн түрү                                            |                                      Катуу өтүү |                                     Жумшак өтүү |
| -------------------------------------------------------- | ----------------------------------------------: | ----------------------------------------------: |
| S/MIME кол тамга файлы `smime.p7s`                       |                                      Четтетилет |                                      Четтетилет |
| S/MIME MIME түрлөрү (`application/pkcs7-*`)              |                                      Четтетилет |                                      Четтетилет |
| Content‑ID боюнча шилтемеленген инлайн сүрөт (`image/*`) | Четтетилет (текст ичинде калыбына келтирилет\*) | Четтетилет (текст ичинде калыбына келтирилет\*) |
| Файл аталышы бар тиркелген кат (`message/rfc822`)        |                                       Кошулбайт |                                 Кошулушу мүмкүн |
| Файл аталышы бар кадимки тиркеме                         |                                 Кошулушу мүмкүн |                                 Кошулушу мүмкүн |

\* "Include inline pictures" иштетилгенде (демейки: ON), инлайн сүрөттөр файл тиркемеси катары кошулбай, жооп тексти ичинде base64 data URI катары камтылат. Караңыз: [Конфигурация](configuration#include-inline-pictures).

Мисал: Айрым тиркемелерде айрым баш аттар болбошу мүмкүн, бирок баары бир кадимки файлдар (инлайн же S/MIME эмес). Эгер катуу өтүү эч нерсе таппаса, жумшак өтүү аларды кабыл алып тиркеши мүмкүн.

---

### Кайчылаш шилтемелер {#cross-reference}

- Алга жөнөтүү (Forward) дизайн боюнча өзгөртүлбөйт (төмөндөгү Чектөөлөрдү караңыз).
- Тиркеме эмне үчүн кошулбай калышы мүмкүн экенинин себептери үчүн “Эмне үчүн тиркемелер кошулбай калышы мүмкүн” бөлүмүн караңыз.

---

## Жүрүм-турумдун чоо-жайы {#behavior-details}

- **Дубликаттарды алдын алуу:** Кошумча модуль ар бир өтмөккө тиешелүү сеанс маанисин жана эс-тутумдагы коргоо механизмин колдонуп, жазуу өтмөгүн иштетилген деп белгилейт. Ал түпнускаларды эки ирет кошпойт.
- Жазуу терезесин жапып кайра ачуу жаңы өтмөк катары каралат (б.а. жаңы аракетке уруксат берилет).
- **Бар тиркемелерди эске алуу:** Эгер жазууда мурунтан эле айрым тиркемелер бар болсо, түпнускалар баары бир так бир жолу кошулат, мурунтан бар файл аталыштары өткөрүлөт.
- **Четтетүүлөр:** S/MIME артефакттары жана инлайн сүрөттөр файл тиркемелеринен четтетилет. Эгер биринчи өтүүдө эч нерсе ылайык келбесе, жумшак камдык өтүү S/MIME эмес бөлүктөрдү кайра текшерет. Инлайн сүрөттөр өзүнчө иштелет: алар жооп тексти ичинде data URI катары калыбына келтирилет (иштетилгенде).
  - **Файл аталыштары:** `smime.p7s`
  - **MIME түрлөрү:** `application/pkcs7-signature`, `application/x-pkcs7-signature`, `application/pkcs7-mime`
  - **Инлайн сүрөттөр:** Content‑ID боюнча шилтемеленген каалаган `image/*` бөлүгү — файл тиркемелеринен четтетилет, бирок "Include inline pictures" ON болгондо жооп тексти ичинде камтылат
  - **Тиркелген каттар (`message/rfc822`):** файл аталышы болсо кадимки тиркемелер катары каралат; кошулушу мүмкүн (дубликатка жана кара тизмеге текшерилет).
- **Кара тизме тууралуу эскертүү (иштетилген болсо):** Эгер талапкерлер кара тизмеңиз тарабынан четтетилсе,
  кошумча модуль тиешелүү файлдарды жана дал келген
  үлгүлөрдү көрсөтүп, кичинекей модалдык терезени чыгарат. Бул эскертүү бир да тиркеме
  кошулбай калган, баары четтетилген учурларда да чыгат.

---

## Клавиатуранын баскыч айкалыштары {#keyboard-shortcuts}

- Ырастоо диалогу: Y/J = Ооба, N/Esc = Жок; Tab/Shift+Tab жана Жебе баскычтары фокусту айландырат.
  - [Конфигурация](configuration#confirmation) ичиндеги “Default answer” алгачкы фокус коюлган баскычты аныктайт.
  - Enter фокустагы баскычты иштетет. Жеткиликтүүлүк үчүн Tab/Shift+Tab жана жебелер фокусту жылдырат.

### Клавиатура шпаргалкасы {#keyboard-cheat-sheet}

| Баскычтар       | Аракет                              |
| --------------- | ----------------------------------- |
| Y / J           | Ооба деп ыраста                     |
| N / Esc         | Жок деп ыраста                      |
| Enter           | Фокустагы баскычты иштет            |
| Tab / Shift+Tab | Фокусту алдыга/артка жылдыр         |
| Жебе баскычтар  | Фокусту баскычтар ортосунда жылдыр  |
| Демейки жооп    | Баштапкы фокусту коёт (Ооба же Жок) |

---

## Чектөөлөр {#limitations}

- Бул кошумча Forward'ду өзгөртпөйт (Reply жана Reply all колдоого алынат).
- Өтө чоң тиркемелерге Thunderbird же кызмат көрсөтүүчү чектөөлөрү колдонулушу мүмкүн.
  - Кошумча модуль файлдарды бөлбөйт жана кысбайт; ал Thunderbird’дун кадимки тиркеме иштетүүсүнө таянат.
- Шифрленген каттар: S/MIME бөлүктөрү атайылап четтетилет.

---

## Эмне үчүн тиркемелер кошулбай калышы мүмкүн {#why-attachments-might-not-be-added}

- Инлайн сүрөттөр файл тиркемеси катары кошулбайт. "Include inline pictures" ON (демейки) болгондо, алар жооп тексти ичинде data URI катары камтылат. Орнотуу OFF болсо, инлайн сүрөттөр толугу менен алынып салынат. Караңыз: [Конфигурация](configuration#include-inline-pictures).
- S/MIME кол тамга бөлүктөрү дизайн боюнча четтетилет: `smime.p7s` сыяктуу файл аталыштары жана `application/pkcs7-signature` же `application/pkcs7-mime` сыяктуу MIME түрлөрү өткөрүлөт.
- Кара тизменин үлгүлөрү талапкерлерди чыпкалай алат: [Конфигурацияны](configuration#blacklist-glob-patterns) караңыз; дал келтирүү регистрге көз каранды эмес жана файл аталыштары боюнча гана.
- Дубликат файл аталыштары кайра кошулбайт: эгер жазууда ошол эле нормалдашкан аталыштагы файл мурунтан бар болсо, ал өткөрүлөт.
- Файл эмес бөлүктөр же аталышы жок файлдар: кошууга жарактуу файл аталышы бар файл-сымал бөлүктөр гана каралат.

---

Ошондой эле караңыз

- [Конфигурация](configuration)
