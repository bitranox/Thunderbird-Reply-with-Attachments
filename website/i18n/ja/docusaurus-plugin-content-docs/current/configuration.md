---
id: configuration
title: '設定'
---

## 設定

Terminology note: see the [Glossary](glossary) for consistent terms used in UI and docs.

---

## Thunderbirdでオプションを開く {#open-options-in-thunderbird}

- Thunderbird → ツール → アドオンとテーマ → “添付ファイルを伴う返信”を見つける → 設定/オプション

---

### 設定 {#settings}

#### 確認 {#confirmation}

- “添付ファイルを追加する前に確認する”を切り替え
- デフォルトの回答: はい または いいえ (フォーカス & キーボードのデフォルト)
- キーボード: Y/J = はい; N/Esc = いいえ; Tab/Shift+Tabと矢印キーがフォーカスを回す
  - [使用法](usage#keyboard-shortcuts)でキーボードの詳細を参照してください。

---

#### ブラックリスト (globパターン) {#blacklist-glob-patterns}

ブラックリストに登録されたファイルは、返信時に自動的に追加されません。また、“ブラックリスト (除外リスト)”については、[用語集](glossary)も参照してください。

- 一行につき一つのパターン; 大文字と小文字を区別しない; ファイル名のみが一致した場合に適用
- 例: `*intern*`, `*secret*`, `*passwor*`
- サポートされるglobトークン: `*` (任意の文字を除く `/` )、`?` (一文字)、文字クラスのような `[abc]`。リテラル `[` を一致させるために `\[` を使用します。パス (`**/`) は無視されるため、ファイル名のみが一致します。
- サポートされていないもの: 否定 (`!`)、波括弧展開 (`{..}`)、および複雑な範囲。パターンはシンプルに保つこと。
- パターンにコメントはサポートされていません。`#` やインラインコメントを含めないでください; 各行にパターンテキストのみを入力してください。

---

##### パターン料理本 {#pattern-cookbook}

- 任意のPDFに一致: `*.pdf`
- “scan”で始まるファイルに一致: `scan*`
- 文字クラス: `report[0-9].txt`
- リテラル `[` をエスケープ: `\[` (文字として括弧を一致させる際に便利)

---

##### メモ {#blacklist-notes}

- 順序は重要ではありません; 最初の/任意の一致でファイルが除外されます。
- 一致はファイル名のみで行われ（パス/フォルダーは無視されます）。
- “デフォルトにリセット”を選択すると、推奨パターンとブラックリストの警告トグルが復元されます。
- なぜ例 `*passwor*` か？それは「password」と「Passwort」ファミリーの両方と一致します。
- 優先順位: いずれかのパターンがファイル名と一致した場合、そのファイルは除外されます（最初の/任意の一致 — 順序が結果を変えません）。
- ヒント — パターンをテストする: 一時的なパターンを追加し、その名前と一致するファイルを含むメッセージに返信し、警告リストで除外されていることを確認してください。

##### クイック試してみる (安全なテスト) {#blacklist-try-it}

1. オプションを開く → ブラックリスト。
2. `*.tmp` のような一時的なパターンを追加し、保存をクリック。
3. `.tmp` で終了するファイルを持つテストメールに返信 — ファイルは警告リストに表示され、添付されていないはずです。
4. 作業が完了したら一時的なパターンを削除するか、「デフォルトにリセット」をクリック。

---

#### 除外された添付ファイルの警告 {#warning-on-excluded-attachments}

- “ブラックリストによって添付ファイルが除外される場合に警告する”を切り替え（デフォルト: ON）。
- 有効にすると、小さなモーダルが除外されたファイルと一致したパターンをリストします。また、すべての候補がブラックリストに登録されているため、何も添付されない場合にも警告が表示されます。

---

#### 設定を保存 {#save-your-settings}

設定は、保存ボタンを押すことで保存されます。個々のフィールドは手動で元に戻すか、必要に応じてデフォルトにリセットできます。

保存された設定が正しく適用されない場合は、Thunderbirdを再起動して再試行してください。（Thunderbirdはセッション間で状態をキャッシュする場合があります。再起動することで新しい設定が読み込まれます。）

ヒント: 設定が適用されたことを確認するには、添付ファイルがあるメッセージに返信し、確認またはブラックリストの警告を確認してください。

---

#### 寄付の可視性 (90日間のスヌーズ) {#donation-visibility}

このアドオンには、寄付後しばらく寄付のプロンプトを隠す便利な機能が含まれています。

どこで見つけられますか

- オプション → サポートセクション: “寄付した”ボタンと小さなヒントエリアが表示されます。
- 送信確認ダイアログにも寄付ボタンが表示されます; スヌーズが有効な場合、自動的に隠れます。

どのように機能するか

- “寄付した”をクリックすると、寄付ボタンと関連するプロンプトが90日間隠されます。
- ステータスヒントには “YYYY‑MM‑DDまで隠されています”（あなたのローカル日付で）と表示されます。可視性を即座に復元するための “寄付を再表示”ボタンもあります。
- 90日後、寄付ボタンは自動的に再度表示されるようになります。

プライバシーとストレージ

- アドオンは、スヌーズ期間を記憶するためにThunderbirdのローカルストレージに1つのタイムスタンプを保存します。キー: `donateHideUntil` (エポックミリ秒)。
- この設定は、あなたのThunderbirdプロファイルにローカルであり（クラウド同期されていません）。この機能によってネットワーク要求は発生しません。

トラブルシューティング

- “寄付した”をクリックした直後に寄付がまだ表示される場合は、少し待つかオプションページを再度開いてください; 設定が保存されると、UIが更新されます。
- 手動でリセットするには、 “寄付を再表示”をクリックします。ヒントに表示される日付が過ぎるのを待つこともできます。

この機能は純粋に便利のためのものであり、アドオンの機能にブロックをかけることはなく、個人データを収集することはありません。

---

### ファイル名の正規化 (重複防止) {#filename-normalization-duplicates-prevention}

プラットフォーム間で一貫性を保つため、ファイル名は重複チェックの前に正規化されます:

- UnicodeはNFCに正規化されます。
- 名前はケースを折りたたまれます（小文字に変換）。
- 末尾のドット/スペースはトリムされます（Windowsとの親和性のため）。

これにより、`café.pdf` と `café.pdf` (NFD) または `FILE.txt.` と `file.txt` のような名前に対して重複検出が予測可能になります。

---

## 確認動作 {#confirmation-behavior}

- “デフォルトの回答”は確認ダイアログで最初にフォーカスされるボタンを設定します（キーボードユーザーに便利）。
- “返信”と“全員に返信”の両方に対して機能します。“転送”はこのアドオンで変更されません。

---

## 高度: 重複検出 {#advanced-duplicate-detection}

重複防止は、作成タブごとにおよびファイル名によって実装されています。詳細な説明については[使用法](usage#behavior-details)を参照してください。

---

見てみてください

- [権限](permissions)
- [プライバシー](privacy)
