---
id: configuration
title: 設定
---

# 設定

用語について：UI とドキュメントで一貫して用いるため、[用語集](glossary) を参照してください。

## Thunderbird でオプションを開く

- Thunderbird → ツール → アドオンとテーマ → 「Reply with Attachments」 → 設定/オプション

### 設定項目:

#### 確認

- 「添付ファイルを追加する前に確認する」を切り替えます。
- 既定の回答：はい／いいえ（フォーカスとキーボードの既定）。
- キーボード：Y/J = はい、N/Esc = いいえ、Tab/Shift+Tab と矢印キーでフォーカス切替。

#### ブラックリスト（glob パターン）

ブラックリストに該当するファイルは返信時に自動添付されません。

- 1 行に 1 パターン。大文字小文字は区別しません。ファイル名のみを照合します。
- 例：`*.png`、`smime.*`、`*.p7s`
- 対応する glob トークン：`*`（`/` 以外の任意文字）、`?`（1 文字）、`[abc]` のようなクラス。リテラルの `[` を照合するには `\[` を使用します。ファイル名のみを対象とするためパス（`**/`）は無視されます。
- 非対応：否定（`!`）、ブレース展開（`{..}`）、複雑な範囲。パターンはシンプルに保ってください。

ヒント：初回に既定値が自動入力され、いつでもリセットできます。

#### 除外された添付の警告

- 「ブラックリストで除外された場合に警告する」（既定：オン）を切り替えます。
- 有効にすると、小さなモーダルに除外されたファイルと一致パターンが表示されます。すべてが除外され何も添付されない場合でも警告が表示されます。

#### 設定を保存する

---

### ファイル名の正規化（重複防止）

プラットフォーム間で一貫した挙動とするため、重複チェックの前にファイル名を正規化します：

- Unicode を NFC に正規化します。
- 名前を小文字化（case‑fold）します。
- 末尾のドットや空白を削除します（Windows 互換性）。

これにより、`café.pdf` と `café.pdf`（NFD）や `FILE.txt.` と `file.txt` のようなケースでも重複判定を予測しやすくします。
