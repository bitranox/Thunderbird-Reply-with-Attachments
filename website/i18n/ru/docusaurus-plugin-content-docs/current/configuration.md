---
id: configuration
title: 'Настройка'
---

## Настройка

Terminology note: see the [Glossary](glossary) for consistent terms used in UI and docs.

---

## Открыть параметры в Thunderbird {#open-options-in-thunderbird}

- Thunderbird → Инструменты → Дополнения и темы → найдите “Ответить с вложениями” → Настройки/Опции

---

### Настройки {#settings}

#### Подтверждение {#confirmation}

- Переключите “Спросить перед добавлением вложений”
- Ответ по умолчанию: Да или Нет (фокус & клавиатура по умолчанию)
- Клавиатура: Y/J = Да; N/Esc = Нет; Tab/Shift+Tab и клавиши со стрелками переключают фокус
  - Смотрите детали клавиатуры в [Использовании](usage#keyboard-shortcuts).

---

#### Черный список (шаблоны glob) {#blacklist-glob-patterns}

Файлы, внесенные в черный список, не будут автоматически добавлены в ответе. Также смотрите [Глоссарий](glossary) для “Черный список (Исключающий список)”.

- Один шаблон на строку; регистронезависимый; сопоставление только по имени файла
- Примеры: `*intern*`, `*secret*`, `*passwor*`
- Поддерживаемые токены glob: `*` (любые символы, кроме `/`), `?` (один символ), классы символов, такие как `[abc]`. Используйте `\[`, чтобы сопоставить литерал `[`. Пути (`**/`) игнорируются, так как сопоставляются только имена файлов.
- Не поддерживаются: отрицание (`!`), расширение фигурных скобок (`{..}`) и сложные диапазоны. Сохраняйте шаблоны простыми.
- Комментарии не поддерживаются в шаблонах. Не включайте `#` или встроенные комментарии; введите только текст шаблона в каждой строке.

---

##### Кулинарная книга шаблонов {#pattern-cookbook}

- Совпадение с любым PDF: `*.pdf`
- Совпадение с файлами, начинающимися на “scan”: `scan*`
- Класс символов: `report[0-9].txt`
- Экранирование литерала `[`: `\[` (полезно при сопоставлении скобки как символа)

---

##### Примечания {#blacklist-notes}

- Порядок не имеет значения; первое/любое совпадение исключает файл.
- Совпадение осуществляется только по имени файла (пути/папки игнорируются).
- “Сбросить в значения по умолчанию” восстанавливает рекомендуемые шаблоны и переключатель предупреждения черного списка.
- Почему пример `*passwor*`? Он совпадает с обоими семействами “password” и “Passwort”.
- Преимущество: если любой шаблон совпадает с именем файла, файл исключается (первое/любое совпадение — порядок не меняет результат).
- Совет — протестируйте свой шаблон: добавьте временный шаблон, ответьте на сообщение, содержащее файл с совпадающим именем, и подтвердите, что он исключен в списке предупреждений.

##### Быстрый тест (безопасный тест) {#blacklist-try-it}

1. Откройте Параметры → Черный список.
2. Добавьте временный шаблон, например `*.tmp`, и нажмите Сохранить.
3. Ответьте на тестовое письмо, у которого есть файл с окончанием `.tmp` — файл должен появиться в списке предупреждений и не быть прикрепленным.
4. Удалите временный шаблон после завершения или нажмите “Сбросить в значения по умолчанию”.

---

#### Предупреждение о исключенных вложениях {#warning-on-excluded-attachments}

- Переключите “Предупреждать, если вложения исключаются черным списком” (по умолчанию: ВКЛ).
- Когда включено, небольшое модальное окно отображает исключенные файлы и соответствующий шаблон(ы). Предупреждение также появляется, когда ничего не будет прикреплено, потому что все кандидаты были в черном списке.

---

#### Сохраните ваши настройки {#save-your-settings}

Настройки сохраняются нажатием кнопки Сохранить. Вы можете вручную вернуть отдельные поля или сбросить значения по умолчанию по мере необходимости.

Если сохраненные настройки не применяются должным образом, перезапустите Thunderbird и попробуйте снова. (Thunderbird может кэшировать состояние между сессиями; перезапуск гарантирует, что новые настройки загружаются.)

Совет: чтобы подтвердить, что ваши настройки вступили в силу, ответьте на любое сообщение с вложением и проверьте подтверждение или предупреждение черного списка.

---

#### Видимость донатов (90-дневная пауза) {#donation-visibility}

Дополнение включает удобную функцию скрытия запросов на донаты на некоторое время после того, как вы сделали донат.

Где это найти

- Параметры → Раздел Поддержка: вы увидите кнопку “Я пожертвовал” и небольшую подсказку.
- Диалоговое окно подтверждения отправки также показывает кнопку Пожертвовать; она автоматически скрывается, когда пауза активна.

Как это работает

- Нажатие “Я пожертвовал” скрывает кнопки пожертвований и связанные запросы на 90 дней.
- Статусная подсказка показывает “Скрыто до YYYY‑MM‑DD” (в вашей локальной дате). Есть также кнопка “Показать Пожертвовать снова”, чтобы немедленно восстановить видимость.
- Через 90 дней кнопка Пожертвовать снова станет видимой автоматически.

Приватность и хранение

- Дополнение хранит единственный временной штамп в локальном хранилище Thunderbird, чтобы запомнить период паузы. Ключ: `donateHideUntil` (эпоха в миллисекундах).
- Эта настройка локальна для вашего профиля Thunderbird (не синхронизируется с облаком). Данная функция не делает никаких сетевых запросов.

Устранение неполадок

- Если кнопка Пожертвовать все еще отображается сразу после нажатия “Я пожертвовал”, подождите некоторое время или переоткройте страницу Параметры; пользовательский интерфейс обновляется, как только настройка сохранена.
- Для сброса вручную нажмите “Показать Пожертвовать снова”. Вы также можете дождаться, пока пройдет дата, указанная в подсказке.

Эта функция предназначена исключительно для удобства; она никогда не блокирует функциональность дополнения и не собирает никаких личных данных.

---

### Нормализация имени файла (предотвращение дубликатов) {#filename-normalization-duplicates-prevention}

Чтобы обеспечить последовательное поведение на разных платформах, имена файлов нормализуются перед проверкой на дубликаты:

- Юникод нормализуется до NFC.
- Имена сворачиваются (приводятся к нижнему регистру).
- Концевые точки/пробелы обрезаются (дружелюбие к Windows).

Это делает определение дубликатов предсказуемым для имен, таких как `café.pdf` против `café.pdf` (NFD) или `FILE.txt.` против `file.txt`.

---

## Поведение подтверждения {#confirmation-behavior}

- “Ответ по умолчанию” устанавливает кнопку, на которой изначально установлен фокус в диалоговом окне подтверждения (полезно для пользователей клавиатуры).
- Работает как для “Ответить”, так и для “Ответить всем”. “Переслать” не модифицируется этим дополнением.

---

## Дополнительно: обнаружение дубликатов {#advanced-duplicate-detection}

Предотвращение дубликатов осуществляется по каждой вкладке создания и по имени файла. Смотрите [Использование](usage#behavior-details) для детального объяснения.

---

Смотрите также

- [Права доступа](permissions)
- [Конфиденциальность](privacy)
