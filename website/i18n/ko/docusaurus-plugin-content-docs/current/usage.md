---
id: usage
title: '사용법'
sidebar_label: '사용 방법'
---

---

## 사용법 {#usage}

- 회신하면 애드온이 원본을 자동으로 추가합니다 — 또는 옵션에서 활성화된 경우 먼저 확인을 요청합니다.
- 파일명 기준으로 중복이 제거됩니다; S/MIME 파트는 항상 건너뜁니다. 인라인 이미지는 기본적으로 회신 본문에 복원됩니다(옵션의 "Include inline pictures"에서 비활성화 가능).
- 블랙리스트에 포함된 첨부 파일도 건너뜁니다(경로가 아닌 파일명과 일치하는 대소문자 구분 없는 글롭 패턴). [구성](configuration#blacklist-glob-patterns)을 참조하세요.

---

### 회신 시 동작 {#what-happens}

- 회신 감지 → 원본 첨부 파일 목록화 → S/MIME + 인라인 필터링 → 선택적 확인 → 적격 파일 추가(중복 건너뜀) → 본문에 인라인 이미지 복원.

엄격 패스 vs. 완화 패스: 애드온은 먼저 S/MIME 및 인라인 파트를 파일 첨부에서 제외합니다. 해당되는 것이 없으면, S/MIME/인라인을 여전히 제외하되 더 많은 경우를 허용하는 완화 패스를 실행합니다(코드 세부정보 참조). 인라인 이미지는 파일 첨부로는 절대 추가되지 않습니다. 대신 "Include inline pictures"가 활성화되어 있을 때(기본값), 회신 본문에 base64 데이터 URI로 직접 임베드됩니다.

| 파트 유형                                      |              엄격 패스 |              완화 패스 |
| ---------------------------------------------- | ---------------------: | ---------------------: |
| S/MIME 서명 파일 `smime.p7s`                   |                 제외됨 |                 제외됨 |
| S/MIME MIME 유형 (`application/pkcs7-*`)       |                 제외됨 |                 제외됨 |
| Content‑ID로 참조된 인라인 이미지 (`image/*`)  | 제외됨 (본문에 복원\*) | 제외됨 (본문에 복원\*) |
| 파일명이 있는 첨부된 이메일 (`message/rfc822`) |          추가되지 않음 |         추가될 수 있음 |
| 파일명이 있는 일반 파일 첨부                   |         추가될 수 있음 |         추가될 수 있음 |

\* "Include inline pictures"가 활성화되어 있을 때(기본값: ON), 인라인 이미지는 파일 첨부로 추가되는 대신 회신 본문에 base64 데이터 URI로 임베드됩니다. [구성](configuration#include-inline-pictures)을 참조하세요.

예시: 일부 첨부 파일은 특정 헤더가 없더라도 여전히 일반 파일일 수 있습니다(인라인/S/MIME 아님). 엄격 패스에서 아무것도 찾지 못하면, 완화 패스가 이를 허용하여 첨부할 수 있습니다.

---

### 상호 참조 {#cross-reference}

- 전달(Forward)은 설계상 수정되지 않습니다(아래 제한 사항 참조).
- 첨부 파일이 추가되지 않을 수 있는 이유는 “첨부 파일이 추가되지 않을 수 있는 이유”를 참조하세요.

---

## 동작 세부사항 {#behavior-details}

- **중복 방지:** 애드온은 탭별 세션 값과 인메모리 가드를 사용해 작성 탭을 처리됨으로 표시합니다. 원본을 두 번 추가하지 않습니다.
- 작성 창을 닫았다가 다시 열면 새 탭으로 간주됩니다(즉, 새 시도가 허용됨).
- **기존 첨부 파일 존중:** 작성 창에 이미 첨부가 있더라도, 원본은 정확히 한 번만 추가하며 이미 존재하는 파일명은 건너뜁니다.
- **제외 항목:** S/MIME 산출물과 인라인 이미지는 파일 첨부에서 제외됩니다. 첫 패스에서 해당되는 것이 없으면 완화형 폴백이 비(非) S/MIME 파트를 재검사합니다. 인라인 이미지는 별도로 처리됩니다: 활성화된 경우 데이터 URI로 회신 본문에 복원됩니다.
  - **파일명:** `smime.p7s`
  - **MIME 유형:** `application/pkcs7-signature`, `application/x-pkcs7-signature`, `application/pkcs7-mime`
  - **인라인 이미지:** Content‑ID로 참조되는 모든 `image/*` 파트 — 파일 첨부에서는 제외되지만, "Include inline pictures"가 ON일 때 회신 본문에 임베드됨
  - **첨부된 이메일(`message/rfc822`)**: 파일명이 있는 경우 일반 첨부로 취급됩니다. (중복 검사 및 블랙리스트 적용 대상)
- **블랙리스트 경고(활성화된 경우):** 후보가 블랙리스트로 제외되면,
  애드온이 해당 파일과 일치한 패턴을 나열하는 작은 모달을 표시합니다.
  모든 항목이 제외되어 아무 첨부도 추가되지 않는 경우에도 이 경고가 표시됩니다.

---

## 키보드 단축키 {#keyboard-shortcuts}

- 확인 대화상자: Y/J = Yes, N/Esc = No; Tab/Shift+Tab 및 화살표 키로 포커스를 순환합니다.
  - [구성](configuration#confirmation)의 “Default answer”가 처음 포커스될 버튼을 설정합니다.
  - Enter는 포커스된 버튼을 실행합니다. 접근성을 위해 Tab/Shift+Tab과 화살표로 포커스를 이동합니다.

### 키보드 치트시트 {#keyboard-cheat-sheet}

| 키              | 동작                             |
| --------------- | -------------------------------- |
| Y / J           | 예 확인                          |
| N / Esc         | 아니오 확인                      |
| Enter           | 포커스된 버튼 활성화             |
| Tab / Shift+Tab | 포커스를 앞/뒤로 이동            |
| 화살표 키       | 버튼 사이 포커스 이동            |
| 기본 답변       | 초기 포커스 설정(예 또는 아니오) |

---

## 제한 사항 {#limitations}

- 이 애드온은 전달(Forward)을 수정하지 않습니다(회신 및 전체 회신은 지원).
- 매우 큰 첨부 파일은 Thunderbird 또는 제공업체의 제한을 받을 수 있습니다.
  - 애드온은 파일을 청크로 나누거나 압축하지 않으며, Thunderbird의 일반 첨부 처리에 의존합니다.
- 암호화된 메시지: S/MIME 파트는 의도적으로 제외됩니다.

---

## 첨부 파일이 추가되지 않을 수 있는 이유 {#why-attachments-might-not-be-added}

- 인라인 이미지는 파일 첨부로 추가되지 않습니다. "Include inline pictures"가 ON(기본값)일 때는 회신 본문에 데이터 URI로 임베드됩니다. 설정이 OFF이면 인라인 이미지는 완전히 제거됩니다. [구성](configuration#include-inline-pictures)을 참조하세요.
- S/MIME 서명 파트는 설계상 제외됩니다: `smime.p7s` 같은 파일명과 `application/pkcs7-signature` 또는 `application/pkcs7-mime` 같은 MIME 유형은 건너뜁니다.
- 블랙리스트 패턴이 후보를 필터링할 수 있습니다: [구성](configuration#blacklist-glob-patterns)을 참조하세요. 일치는 대소문자 구분 없이 파일명만 기준입니다.
- 중복 파일명은 다시 추가되지 않습니다: 작성 창에 동일한 정규화된 이름의 파일이 이미 있으면 건너뜁니다.
- 파일이 아닌 파트 또는 파일명이 누락된 경우: 사용 가능한 파일명을 가진 파일 유사 파트만 추가 대상으로 간주됩니다.

---

함께 보기

- [구성](configuration)
