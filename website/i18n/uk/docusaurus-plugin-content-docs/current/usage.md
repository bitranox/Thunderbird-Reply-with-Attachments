---
id: usage
title: 'Використання'
sidebar_label: 'Використання'
---

---

## Використання {#usage}

- Відповідайте — і додаток автоматично додасть оригінальні вкладення, або спершу запитає підтвердження, якщо це ввімкнено в Параметрах.
- Усунення дублікатів за назвою файлу; частини S/MIME завжди пропускаються. Вбудовані зображення за замовчуванням відновлюються в тілі відповіді (можна вимкнути через "Include inline pictures" у Параметрах).
- Вкладення з чорного списку також пропускаються (глоб‑шаблони без урахування регістру, що зіставляються з назвами файлів, а не шляхами). Див. [Налаштування](configuration#blacklist-glob-patterns).

---

### Що відбувається під час відповіді {#what-happens}

- Виявити відповідь → перелічити оригінальні вкладення → відфільтрувати S/MIME + вбудовані → за потреби підтвердити → додати придатні файли (пропустити дублікати) → відновити вбудовані зображення в тілі.

Строгий vs. розслаблений прохід: Додаток спершу виключає S/MIME та вбудовані частини з файлових вкладень. Якщо нічого не підходить, виконується розслаблений прохід, який також виключає S/MIME/вбудовані, але допускає більше випадків (див. подробиці коду). Вбудовані зображення ніколи не додаються як файлові вкладення; натомість, коли "Include inline pictures" увімкнено (типово), їх вбудовують безпосередньо в тіло відповіді як data URI у форматі base64.

| Тип частини                                                        |                     Строгий прохід |                Розслаблений прохід |
| ------------------------------------------------------------------ | ---------------------------------: | ---------------------------------: |
| Файл підпису S/MIME `smime.p7s`                                    |                          Виключено |                          Виключено |
| MIME‑типи S/MIME (`application/pkcs7-*`)                           |                          Виключено |                          Виключено |
| Вбудоване зображення, на яке є посилання за Content‑ID (`image/*`) | Виключено (відновлюється в тілі\*) | Виключено (відновлюється в тілі\*) |
| Прикріплений лист (`message/rfc822`) із назвою файлу               |                       Не додається |                   Може бути додано |
| Звичайне файлове вкладення з назвою файлу                          |                   Може бути додано |                   Може бути додано |

\* Коли "Include inline pictures" увімкнено (типово: ON), вбудовані зображення вбудовуються в тіло відповіді як data URI у форматі base64, а не додаються як файлові вкладення. Див. [Налаштування](configuration#include-inline-pictures).

Приклад: Деяким вкладенням може бракувати певних заголовків, але вони все одно є звичайними файлами (не вбудованими/S/MIME). Якщо строгий прохід не знаходить жодного, розслаблений може прийняти такі й додати їх.

---

### Перехресні посилання {#cross-reference}

- Пересилання навмисно не змінюється (див. Обмеження нижче).
- Причини, через які вкладення може не бути додано: див. «Чому вкладення може не бути додано».

---

## Деталі поведінки {#behavior-details}

- **Запобігання дублікатам:** Додаток позначає вкладку створення як оброблену, використовуючи сеансове значення на вкладку та внутрішній запобіжник у пам’яті. Оригінали вдруге не додаються.
- Закриття та повторне відкриття вікна створення вважається новою вкладкою (тобто дозволяється нова спроба).
- **З урахуванням наявних вкладень:** Якщо у створюваному листі вже є вкладення, оригінали все одно додаються рівно один раз, пропускаючи вже наявні назви файлів.
- **Виключення:** Артефакти S/MIME та вбудовані зображення виключаються з файлових вкладень. Якщо на першому проході нічого не підходить, резервний розслаблений прохід повторно перевіряє невідповідні S/MIME частини. Вбудовані зображення обробляються окремо: їх відновлюють у тілі відповіді як data URI (коли ввімкнено).
  - **Назви файлів:** `smime.p7s`
  - **MIME‑типи:** `application/pkcs7-signature`, `application/x-pkcs7-signature`, `application/pkcs7-mime`
  - **Вбудовані зображення:** будь‑яка частина `image/*`, на яку є посилання за Content‑ID — виключається з файлових вкладень, але вбудовується в тіло відповіді, коли "Include inline pictures" увімкнено
  - **Прикріплені листи (`message/rfc822`):** розглядаються як звичайні вкладення, якщо мають назву файлу; їх може бути додано (з урахуванням перевірок на дублікати та чорний список).
- **Попередження про чорний список (якщо ввімкнено):** Коли кандидатів виключено вашим чорним списком,
  додаток показує невелике модальне вікно зі списком відповідних файлів і
  відповідних шаблонів. Це попередження також з’являється в разі, коли жодних
  вкладень додано не буде, бо все було виключено.

---

## Комбінації клавіш {#keyboard-shortcuts}

- Діалог підтвердження: Y/J = Yes, N/Esc = No; Tab/Shift+Tab та клавіші зі стрілками циклічно перемикають фокус.
  - «Відповідь за замовчуванням» у [Налаштуваннях](configuration#confirmation) задає кнопку з початковим фокусом.
  - Enter активує кнопку у фокусі. Tab/Shift+Tab і стрілки переміщують фокус для зручності доступу.

### Шпаргалка клавіатурних скорочень {#keyboard-cheat-sheet}

| Клавіші                    | Дія                                      |
| -------------------------- | ---------------------------------------- |
| Y / J                      | Підтвердити «Так»                        |
| N / Esc                    | Підтвердити «Ні»                         |
| Enter                      | Активувати вибрану кнопку                |
| Tab / Shift+Tab            | Перемістити фокус уперед/назад           |
| Клавіші зі стрілками       | Переміщати фокус між кнопками            |
| Відповідь за замовчуванням | Встановлює початковий фокус (Так або Ні) |

---

## Обмеження {#limitations}

- Пересилання цим додатком не змінюється (підтримуються «Відповісти» та «Відповісти всім»).
- Дуже великі вкладення можуть підлягати обмеженням Thunderbird або постачальника.
  - Додаток не дробить і не стискає файли; він покладається на звичайну обробку вкладень у Thunderbird.
- Зашифровані повідомлення: частини S/MIME навмисно виключаються.

---

## Чому вкладення може не бути додано {#why-attachments-might-not-be-added}

- Вбудовані зображення не додаються як файлові вкладення. Коли "Include inline pictures" увімкнено (типово), їх натомість вбудовують у тіло відповіді як data URI. Якщо налаштування вимкнено (OFF), вбудовані зображення повністю видаляються. Див. [Налаштування](configuration#include-inline-pictures).
- Частини з підписом S/MIME виключаються за задумом: пропускаються назви файлів на кшталт `smime.p7s` і MIME‑типи, як‑от `application/pkcs7-signature` чи `application/pkcs7-mime`.
- Шаблони чорного списку можуть відфільтровувати кандидатів: див. [Налаштування](configuration#blacklist-glob-patterns); зіставлення без урахування регістру і лише за назвою файлу.
- Дублікати назв файлів не додаються повторно: якщо у створюваному листі вже є файл із тією самою нормалізованою назвою, його буде пропущено.
- Нефайлові частини або відсутні назви файлів: до додавання розглядаються лише частини, подібні до файлів, із придатними назвами.

---

Див. також

- [Налаштування](configuration)
