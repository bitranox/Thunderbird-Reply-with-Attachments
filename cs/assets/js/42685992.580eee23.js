"use strict";(self.webpackChunkrwa_docs=self.webpackChunkrwa_docs||[]).push([[516],{785(e,n,l){l.r(n),l.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>t});const i=JSON.parse('{"id":"development","title":"V\xfdvoj","description":"---","source":"@site/i18n/cs/docusaurus-plugin-content-docs/current/development.md","sourceDirName":".","slug":"/development","permalink":"/Thunderbird-Reply-with-Attachments/cs/docs/development","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1757726723000,"frontMatter":{"id":"development","title":"V\xfdvoj","sidebar_label":"V\xfdvoj"},"sidebar":"docs","previous":{"title":"Opr\xe1vn\u011bn\xed","permalink":"/Thunderbird-Reply-with-Attachments/cs/docs/permissions"},"next":{"title":"Jazyky","permalink":"/Thunderbird-Reply-with-Attachments/cs/docs/languages"}}');var s=l(4848),d=l(8453);const r={id:"development",title:"V\xfdvoj",sidebar_label:"V\xfdvoj"},c=void 0,o={},t=[{value:"Pr\u016fvodce v\xfdvojem",id:"development-guide",level:2},{value:"P\u0159edpoklady",id:"prerequisites",level:3},{value:"Struktura projektu (p\u0159ehled)",id:"project-layout-high-level",level:3},{value:"Instalace a n\xe1stroje",id:"install-and-tooling",level:3},{value:"\u017div\xfd v\xfdvoj (web\u2011ext run)",id:"live-dev-web-ext",level:3},{value:"C\xedle Make (abecedn\u011b)",id:"make-targets-alphabetical",level:3},{value:"Tipy pro build lokalizac\xed",id:"locale-build-tips",level:4},{value:"Sestaven\xed a balen\xed",id:"build-and-package",level:3},{value:"Test",id:"test",level:3},{value:"Lad\u011bn\xed a logy",id:"debugging-and-logs",level:3},{value:"Dokumentace (web)",id:"docs-website",level:3},{value:"P\u0159esm\u011brovac\xed trasa pro darov\xe1n\xed",id:"donate-redirect",level:4},{value:"Tipy pro n\xe1hled",id:"preview-tips",level:4},{value:"P\u0159eklad webu",id:"translate-website",level:4},{value:"Tipy k zabezpe\u010den\xed a konfiguraci",id:"security-and-configuration-tips",level:3},{value:"Perzistence nastaven\xed",id:"settings-persistence",level:3},{value:"\u0158e\u0161en\xed probl\xe9m\u016f",id:"troubleshooting",level:3},{value:"CI a pokryt\xed",id:"ci-and-coverage",level:3},{value:"P\u0159isp\xedv\xe1n\xed",id:"contributing",level:3},{value:"P\u0159eklady",id:"p\u0159eklady",level:3},{value:"clean",id:"mt-clean",level:4},{value:"commit",id:"mt-commit",level:4},{value:"eslint",id:"mt-eslint",level:4},{value:"help",id:"mt-help",level:4},{value:"lint",id:"mt-lint",level:4},{value:"menu",id:"mt-menu",level:4},{value:"pack",id:"mt-pack",level:4},{value:"prettier",id:"mt-prettier",level:4},{value:"prettier_check",id:"mt-prettier_check",level:4},{value:"prettier_write",id:"mt-prettier_write",level:4},{value:"test",id:"mt-test",level:4},{value:"test_i18n",id:"mt-test_i18n",level:4},{value:"translate_app / translation_app",id:"mt-translation-app",level:4},{value:"translate_web_docs_batch / translate_web_docs_sync",id:"mt-translation-web",level:4},{value:"translate_web_index / translation_web_index",id:"mt-translation_web_index",level:4},{value:"web_build",id:"mt-web_build",level:4},{value:"web_build_linkcheck",id:"mt-web_build_linkcheck",level:4},{value:"web_build_local_preview",id:"mt-web_build_local_preview",level:4},{value:"web_push_github",id:"mt-web_push_github",level:4}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"development-guide",children:"Pr\u016fvodce v\xfdvojem"}),"\n",(0,s.jsx)(n.admonition,{title:"Upravujte pouze anglickou verzi; p\u0159eklady se propaguj\xed",type:"note",children:(0,s.jsxs)(n.p,{children:["Aktualizujte dokumentaci pouze pod ",(0,s.jsx)(n.code,{children:"website/docs"})," (angli\u010dtina). P\u0159eklady pod ",(0,s.jsx)(n.code,{children:"website/i18n/<locale>/\u2026"})," jsou generovan\xe9 a nem\u011bly by se upravovat ru\u010dn\u011b. K\u202fobnoven\xed lokalizovan\xe9ho obsahu pou\u017eijte p\u0159ekladov\xe9 \xfalohy (nap\u0159. ",(0,s.jsx)(n.code,{children:"make translate_web_docs_batch"}),")."]})}),"\n",(0,s.jsx)(n.h3,{id:"prerequisites",children:"P\u0159edpoklady"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Node.js 22+ a npm (testov\xe1no s Node 22)"}),"\n",(0,s.jsx)(n.li,{children:"Thunderbird 128 ESR nebo nov\u011bj\u0161\xed (pro ru\u010dn\xed testov\xe1n\xed)"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"project-layout-high-level",children:"Struktura projektu (p\u0159ehled)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Ko\u0159en: balic\xed skript ",(0,s.jsx)(n.code,{children:"distribution_zip_packer.sh"}),", dokumentace, sn\xedmky obrazovky"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"sources/"}),": hlavn\xed k\xf3d dopl\u0148ku (background, UI mo\u017enost\xed/vyskakovac\xedho okna, manifesty, ikony)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"tests/"}),": sada test\u016f Vitest"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"website/"}),": dokumentace Docusaurus (s i18n pod ",(0,s.jsx)(n.code,{children:"website/i18n/de/..."}),")"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"install-and-tooling",children:"Instalace a n\xe1stroje"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Instalace ko\u0159enov\xfdch z\xe1vislost\xed: ",(0,s.jsx)(n.code,{children:"npm ci"})]}),"\n",(0,s.jsxs)(n.li,{children:["Dokumentace (voliteln\xe9): ",(0,s.jsx)(n.code,{children:"cd website && npm ci"})]}),"\n",(0,s.jsxs)(n.li,{children:["Zobrazen\xed c\xedl\u016f: ",(0,s.jsx)(n.code,{children:"make help"})]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"live-dev-web-ext",children:"\u017div\xfd v\xfdvoj (web\u2011ext run)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Rychl\xfd cyklus ve Firefoxu pro po\u010d\xedta\u010d (pouze kou\u0159ov\xe9 testy UI):"}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"npx web-ext run --source-dir sources --target=firefox-desktop"})}),"\n",(0,s.jsx)(n.li,{children:"Spustit v Thunderbirdu (preferov\xe1no pro MailExtensions):"}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:'npx web-ext run --source-dir sources --start-url about:addons --firefox-binary "$(command -v thunderbird || echo /path/to/thunderbird)"'})}),"\n",(0,s.jsx)(n.li,{children:"Tipy:"}),"\n",(0,s.jsx)(n.li,{children:"Nechte otev\u0159enou Chybovou konzoli Thunderbirdu (N\xe1stroje \u2192 N\xe1stroje pro v\xfdvoj\xe1\u0159e \u2192 Chybov\xe1 konzole)."}),"\n",(0,s.jsx)(n.li,{children:"Str\xe1nky ud\xe1lost\xed MV3 jsou p\u0159i ne\u010dinnosti usp\xe1v\xe1ny; po zm\u011bn\xe1ch k\xf3du dopln\u011bk znovu na\u010dt\u011bte, nebo nechte web\u2011ext prov\xe9st auto\u2011reload."}),"\n",(0,s.jsx)(n.li,{children:"N\u011bkter\xe1 chov\xe1n\xed pouze ve Firefoxu se li\u0161\xed; v\u017edy ov\u011b\u0159te v Thunderbirdu kv\u016fli parit\u011b API."}),"\n",(0,s.jsx)(n.li,{children:"Cesty k bin\xe1rk\xe1m Thunderbirdu (p\u0159\xedklady):"}),"\n",(0,s.jsxs)(n.li,{children:["Linux: ",(0,s.jsx)(n.code,{children:"thunderbird"})," (nap\u0159. ",(0,s.jsx)(n.code,{children:"/usr/bin/thunderbird"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["macOS: ",(0,s.jsx)(n.code,{children:"/Applications/Thunderbird.app/Contents/MacOS/thunderbird"})]}),"\n",(0,s.jsxs)(n.li,{children:["Windows: ",(0,s.jsx)(n.code,{children:'"C:\\\\Program Files\\\\Mozilla Thunderbird\\\\thunderbird.exe"'})]}),"\n",(0,s.jsx)(n.li,{children:"Izolace profilu: Pro v\xfdvoj pou\u017e\xedvejte samostatn\xfd profil Thunderbirdu, abyste neovlivnili sv\xe9 denn\xed prost\u0159ed\xed."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"make-targets-alphabetical",children:"C\xedle Make (abecedn\u011b)"}),"\n",(0,s.jsxs)(n.p,{children:["Makefile sjednocuje b\u011b\u017en\xe9 v\xfdvojov\xe9 postupy. Pus\u0165te ",(0,s.jsx)(n.code,{children:"make help"})," kdykoli pro jedno\u0159\xe1dkov\xe9 shrnut\xed ka\u017ed\xe9ho c\xedle."]}),"\n",(0,s.jsxs)(n.p,{children:["Tip: spu\u0161t\u011bn\xed ",(0,s.jsx)(n.code,{children:"make"})," bez c\xedle otev\u0159e jednoduch\xe9 menu Whiptail pro v\xfdb\u011br c\xedle."]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"C\xedl"}),(0,s.jsx)(n.th,{children:"Jedno\u0159\xe1dkov\xfd popis"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#mt-clean",children:(0,s.jsx)(n.code,{children:"clean"})})}),(0,s.jsx)(n.td,{children:"Odstranit lok\xe1ln\xed artefakty buildu/preview (tmp/, web-local-preview/, website/build/)."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#mt-commit",children:(0,s.jsx)(n.code,{children:"commit"})})}),(0,s.jsx)(n.td,{children:"Form\xe1tovat, spustit testy (v\u010d. i18n), aktualizovat changelog, commit a push."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#mt-eslint",children:(0,s.jsx)(n.code,{children:"eslint"})})}),(0,s.jsxs)(n.td,{children:["Spustit ESLint p\u0159es flat config (",(0,s.jsx)(n.code,{children:"npm run -s lint:eslint"}),")."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#mt-help",children:(0,s.jsx)(n.code,{children:"help"})})}),(0,s.jsx)(n.td,{children:"Vypsat v\u0161echny c\xedle s jedno\u0159\xe1dkovou dokumentac\xed (se\u0159azen\xe9)."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#mt-lint",children:(0,s.jsx)(n.code,{children:"lint"})})}),(0,s.jsxs)(n.td,{children:["web\u2011ext lint na ",(0,s.jsx)(n.code,{children:"sources/"})," (do\u010dasn\xfd manifest; ignoruje ZIPy; nefat\xe1ln\xed)."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#mt-menu",children:(0,s.jsx)(n.code,{children:"menu"})})}),(0,s.jsx)(n.td,{children:"Interaktivn\xed menu pro v\xfdb\u011br c\xedle a voliteln\xfdch argument\u016f."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#mt-pack",children:(0,s.jsx)(n.code,{children:"pack"})})}),(0,s.jsx)(n.td,{children:"Sestavit ATN a LOCAL ZIPy (spust\xed linter; vol\xe1 balic\xed skript)."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#mt-prettier",children:(0,s.jsx)(n.code,{children:"prettier"})})}),(0,s.jsx)(n.td,{children:"Naform\xe1tovat repozit\xe1\u0159 na m\xedst\u011b (zap\xed\u0161e zm\u011bny)."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#mt-prettier_check",children:(0,s.jsx)(n.code,{children:"prettier_check"})})}),(0,s.jsx)(n.td,{children:"Prettier v re\u017eimu kontroly (bez z\xe1pisu); sel\u017ee, pokud je pot\u0159eba p\u0159eform\xe1tovat."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#mt-prettier_write",children:(0,s.jsx)(n.code,{children:"prettier_write"})})}),(0,s.jsxs)(n.td,{children:["Alias pro ",(0,s.jsx)(n.code,{children:"prettier"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#mt-test",children:(0,s.jsx)(n.code,{children:"test"})})}),(0,s.jsx)(n.td,{children:"Prettier (z\xe1pis), ESLint, pot\xe9 Vitest (coverage, pokud je nastaven)."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#mt-test_i18n",children:(0,s.jsx)(n.code,{children:"test_i18n"})})}),(0,s.jsx)(n.td,{children:"Pouze i18n testy: z\xe1stupn\xe9 symboly/parita dopl\u0148ku + parita webu."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#mt-translation-app",children:(0,s.jsx)(n.code,{children:"translate_app"})})}),(0,s.jsxs)(n.td,{children:["Alias pro ",(0,s.jsx)(n.code,{children:"translation_app"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#mt-translation-app",children:(0,s.jsx)(n.code,{children:"translation_app"})})}),(0,s.jsxs)(n.td,{children:["P\u0159elo\u017eit \u0159et\u011bzce UI aplikace z ",(0,s.jsx)(n.code,{children:"sources/_locales/en/messages.json"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#mt-translation-web",children:(0,s.jsx)(n.code,{children:"translate_web_docs_batch"})})}),(0,s.jsx)(n.td,{children:"P\u0159elo\u017eit webovou dokumentaci p\u0159es OpenAI Batch API (preferov\xe1no)."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#mt-translation-web",children:(0,s.jsx)(n.code,{children:"translate_web_docs_sync"})})}),(0,s.jsx)(n.td,{children:"P\u0159elo\u017eit webovou dokumentaci synchronn\u011b (legacy, bez batch)."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#mt-translation_web_index",children:(0,s.jsx)(n.code,{children:"translate_web_index"})})}),(0,s.jsxs)(n.td,{children:["Alias pro ",(0,s.jsx)(n.code,{children:"translation_web_index"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#mt-translation_web_index",children:(0,s.jsx)(n.code,{children:"translation_web_index"})})}),(0,s.jsxs)(n.td,{children:["P\u0159elo\u017eit UI domovsk\xe9 str\xe1nky/navigace/pati\u010dky (",(0,s.jsx)(n.code,{children:"website/i18n/en/code.json \u2192 .../<lang>/code.json"}),")."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#mt-web_build",children:(0,s.jsx)(n.code,{children:"web_build"})})}),(0,s.jsxs)(n.td,{children:["Sestavit dokumenty do ",(0,s.jsx)(n.code,{children:"website/build"})," (podporuje ",(0,s.jsx)(n.code,{children:"--locales"})," / ",(0,s.jsx)(n.code,{children:"BUILD_LOCALES"}),")."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#mt-web_build_linkcheck",children:(0,s.jsx)(n.code,{children:"web_build_linkcheck"})})}),(0,s.jsx)(n.td,{children:"Bezpe\u010dn\xe1 kontrola odkaz\u016f offline (p\u0159eskakuje vzd\xe1len\xe9 HTTP[S])."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#mt-web_build_local_preview",children:(0,s.jsx)(n.code,{children:"web_build_local_preview"})})}),(0,s.jsx)(n.td,{children:"M\xedstn\xed n\xe1hled gh\u2011pages; automaticky naslouch\xe1 na 8080\u20138090; voliteln\xe9 testy/kontrola odkaz\u016f."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#mt-web_push_github",children:(0,s.jsx)(n.code,{children:"web_push_github"})})}),(0,s.jsxs)(n.td,{children:["Odeslat ",(0,s.jsx)(n.code,{children:"website/build"})," do v\u011btve ",(0,s.jsx)(n.code,{children:"gh-pages"}),"."]})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Syntaxe pro volby"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Pou\u017eijte ",(0,s.jsx)(n.code,{children:'make <command> OPTS="\u2026"'})," pro p\u0159ed\xe1n\xed voleb (doporu\u010deny uvozovky). Ka\u017ed\xfd c\xedl n\xed\u017ee uv\xe1d\xed p\u0159\xedklad pou\u017eit\xed."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"--"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"locale-build-tips",children:"Tipy pro build lokalizac\xed"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Sestavte podmno\u017einu lokalizac\xed: nastavte ",(0,s.jsx)(n.code,{children:'BUILD_LOCALES="en de"'})," nebo p\u0159edejte ",(0,s.jsx)(n.code,{children:'OPTS="--locales en,de"'})," webov\xfdm c\xedl\u016fm."]}),"\n",(0,s.jsxs)(n.li,{children:["N\xe1hled konkr\xe9tn\xed lokalizace: ",(0,s.jsx)(n.code,{children:"http://localhost:<port>/Thunderbird-Reply-with-Attachments/de/"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"build-and-package",children:"Sestaven\xed a balen\xed"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Sestavit ZIPy: ",(0,s.jsx)(n.code,{children:"make pack"})]}),"\n",(0,s.jsx)(n.li,{children:"Vytvo\u0159\xed ATN a LOCAL ZIPy v ko\u0159eni repozit\xe1\u0159e (artefakty neupravujte ru\u010dn\u011b)"}),"\n",(0,s.jsxs)(n.li,{children:["Tip: p\u0159ed balen\xedm aktualizujte verzi jak v ",(0,s.jsx)(n.code,{children:"sources/manifest_ATN.json"}),", tak v ",(0,s.jsx)(n.code,{children:"sources/manifest_LOCAL.json"})]}),"\n",(0,s.jsx)(n.li,{children:"Ru\u010dn\xed instalace (v\xfdvoj): Thunderbird \u2192 N\xe1stroje \u2192 Dopl\u0148ky a motivy \u2192 ozuben\xe9 kolo \u2192 Instalovat dopln\u011bk ze souboru\u2026 \u2192 vyberte sestaven\xfd ZIP"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"test",children:"Test"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Pln\xe1 sada: ",(0,s.jsx)(n.code,{children:"make test"})," (Vitest)"]}),"\n",(0,s.jsx)(n.li,{children:"Coverage (voliteln\xe9):"}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"npm i -D @vitest/coverage-v8"})}),"\n",(0,s.jsxs)(n.li,{children:["Spus\u0165te ",(0,s.jsx)(n.code,{children:"make test"}),"; otev\u0159ete ",(0,s.jsx)(n.code,{children:"coverage/index.html"})," pro HTML report"]}),"\n",(0,s.jsxs)(n.li,{children:["Jen i18n: ",(0,s.jsx)(n.code,{children:"make test_i18n"})," (kl\xed\u010de/z\xe1stupn\xe9 symboly/tituly UI + parita webu za lokalitu a dokument s kontrolami id/title/sidebar_label)"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"debugging-and-logs",children:"Lad\u011bn\xed a logy"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Chybov\xe1 konzole: N\xe1stroje \u2192 N\xe1stroje pro v\xfdvoj\xe1\u0159e \u2192 Chybov\xe1 konzole"}),"\n",(0,s.jsx)(n.li,{children:"P\u0159ep\xedn\xe1n\xed podrobn\xfdch log\u016f za b\u011bhu:"}),"\n",(0,s.jsxs)(n.li,{children:["Zapnout: ",(0,s.jsx)(n.code,{children:"messenger.storage.local.set({ debug: true })"})]}),"\n",(0,s.jsxs)(n.li,{children:["Vypnout: ",(0,s.jsx)(n.code,{children:"messenger.storage.local.set({ debug: false })"})]}),"\n",(0,s.jsx)(n.li,{children:"Logy se zobrazuj\xed p\u0159i psan\xed/odes\xedl\xe1n\xed odpov\u011bd\xed"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"docs-website",children:"Dokumentace (web)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Dev server: ",(0,s.jsx)(n.code,{children:"cd website && npm run start"})]}),"\n",(0,s.jsxs)(n.li,{children:["Sestaven\xed statick\xe9ho webu: ",(0,s.jsx)(n.code,{children:"cd website && npm run build"})]}),"\n",(0,s.jsxs)(n.li,{children:["Ekvivalenty v Make (abecedn\u011b): ",(0,s.jsx)(n.code,{children:"make web_build"}),", ",(0,s.jsx)(n.code,{children:"make web_build_linkcheck"}),", ",(0,s.jsx)(n.code,{children:"make web_build_local_preview"}),", ",(0,s.jsx)(n.code,{children:"make web_push_github"})]}),"\n",(0,s.jsx)(n.li,{children:"P\u0159\xedklady pou\u017eit\xed:"}),"\n",(0,s.jsxs)(n.li,{children:["Jen EN, p\u0159esko\u010dit testy/kontrolu odkaz\u016f, bez push: ",(0,s.jsx)(n.code,{children:'make web_build_local_preview OPTS="--locales en --no-test --no-link-check --dry-run"'})]}),"\n",(0,s.jsxs)(n.li,{children:["V\u0161echny jazyky, s testy/kontrolou odkaz\u016f, pot\xe9 push: ",(0,s.jsx)(n.code,{children:"make web_build_local_preview && make web_push_github"})]}),"\n",(0,s.jsxs)(n.li,{children:["P\u0159ed publikov\xe1n\xedm spus\u0165te bezpe\u010dnou kontrolu odkaz\u016f offline: ",(0,s.jsx)(n.code,{children:"make web_build_linkcheck"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["i18n: Angli\u010dtina je v ",(0,s.jsx)(n.code,{children:"website/docs/*.md"}),"; n\u011bmeck\xe9 p\u0159eklady v ",(0,s.jsx)(n.code,{children:"website/i18n/de/docusaurus-plugin-content-docs/current/*.md"})]}),"\n",(0,s.jsxs)(n.li,{children:["Vyhled\xe1v\xe1n\xed: Pokud jsou v CI nastaveny prom\u011bnn\xe9 prost\u0159ed\xed Algolia DocSearch (",(0,s.jsx)(n.code,{children:"DOCSEARCH_APP_ID"}),", ",(0,s.jsx)(n.code,{children:"DOCSEARCH_API_KEY"}),", ",(0,s.jsx)(n.code,{children:"DOCSEARCH_INDEX_NAME"}),"), web pou\u017eije vyhled\xe1v\xe1n\xed Algolia; jinak spadne na lok\xe1ln\xed vyhled\xe1v\xe1n\xed. Na domovsk\xe9 str\xe1nce stiskn\u011bte ",(0,s.jsx)(n.code,{children:"/"})," nebo ",(0,s.jsx)(n.code,{children:"Ctrl+K"})," pro otev\u0159en\xed vyhled\xe1vac\xedho pole."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"donate-redirect",children:"P\u0159esm\u011brovac\xed trasa pro darov\xe1n\xed"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"website/src/pages/donate.js"})}),"\n",(0,s.jsxs)(n.li,{children:["Trasa: ",(0,s.jsx)(n.code,{children:"/donate"})," (a ",(0,s.jsx)(n.code,{children:"/<locale>/donate"}),")"]}),"\n",(0,s.jsx)(n.li,{children:"Chov\xe1n\xed:"}),"\n",(0,s.jsxs)(n.li,{children:["Pokud m\xe1 aktu\xe1ln\xed trasa lokalizaci (nap\u0159. ",(0,s.jsx)(n.code,{children:"/de/donate"}),"), pou\u017eije ji"]}),"\n",(0,s.jsxs)(n.li,{children:["Jinak vybere nejlep\u0161\xed shodu z ",(0,s.jsx)(n.code,{children:"navigator.languages"})," v\u016f\u010di nakonfigurovan\xfdm lokalizac\xedm; v\u202fp\u0159\xedpad\u011b pot\u0159eby spadne na v\xfdchoz\xed lokalizaci"]}),"\n",(0,s.jsx)(n.li,{children:"P\u0159esm\u011brov\xe1v\xe1 na:"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"en"})," \u2192 ",(0,s.jsx)(n.code,{children:"/docs/donation"})]}),"\n",(0,s.jsxs)(n.li,{children:["ostatn\xed \u2192 ",(0,s.jsx)(n.code,{children:"/<locale>/docs/donation"})]}),"\n",(0,s.jsxs)(n.li,{children:["Pou\u017e\xedv\xe1 ",(0,s.jsx)(n.code,{children:"useBaseUrl"})," pro spr\xe1vn\xe9 zach\xe1zen\xed s baseUrl"]}),"\n",(0,s.jsxs)(n.li,{children:["Zahrnuje meta refresh + odkaz ",(0,s.jsx)(n.code,{children:"noscript"})," jako z\xe1lohu"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"preview-tips",children:"Tipy pro n\xe1hled"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u010cist\xe9 ukon\u010den\xed Node n\xe1hledu: otev\u0159ete ",(0,s.jsx)(n.code,{children:"http://localhost:<port>/__stop"})," (vyti\u0161t\u011bno po ",(0,s.jsx)(n.code,{children:"Local server started"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:["Pokud se v MDX/JSX nena\u010d\xedtaj\xed obr\xe1zky, pou\u017eijte ",(0,s.jsx)(n.code,{children:"useBaseUrl('/img/...')"})," pro respektov\xe1n\xed ",(0,s.jsx)(n.code,{children:"baseUrl"})," webu."]}),"\n",(0,s.jsx)(n.li,{children:"N\xe1hled se spust\xed nejprve; kontrola odkaz\u016f b\u011b\u017e\xed pot\xe9 a je neblokuj\xedc\xed (rozbit\xe9 extern\xed odkazy n\xe1hled nezastav\xed)."}),"\n",(0,s.jsxs)(n.li,{children:["P\u0159\xedklad URL n\xe1hledu: ",(0,s.jsx)(n.code,{children:"http://localhost:<port>/Thunderbird-Reply-with-Attachments/"})," (vyti\u0161t\u011bno po \u201eLocal server started\u201c)."]}),"\n",(0,s.jsx)(n.li,{children:"Extern\xed odkazy v kontrol\xe1ch: N\u011bkter\xe9 extern\xed weby (nap\u0159. addons.thunderbird.net) blokuj\xed automatick\xe9 proch\xe1zen\xed a mohou v kontrol\xe1ch odkaz\u016f vracet 403. N\xe1hled se i tak spust\xed; tyto chyby lze ignorovat."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"translate-website",children:"P\u0159eklad webu"}),"\n",(0,s.jsx)(n.p,{children:"Co m\u016f\u017eete p\u0159ekl\xe1dat"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Pouze UI webu: domovsk\xe1 str\xe1nka, navigace, pati\u010dka a dal\u0161\xed \u0159et\u011bzce UI. Obsah dokumentace zat\xedm z\u016fst\xe1v\xe1 pouze v angli\u010dtin\u011b."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Kde upravovat"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Upravte ",(0,s.jsx)(n.code,{children:"website/i18n/<locale>/code.json"})," (jako referenci pou\u017eijte ",(0,s.jsx)(n.code,{children:"en"}),"). Z\xe1stupn\xe9 symboly jako ",(0,s.jsx)(n.code,{children:"{year}"}),", ",(0,s.jsx)(n.code,{children:"{slash}"}),", ",(0,s.jsx)(n.code,{children:"{ctrl}"}),", ",(0,s.jsx)(n.code,{children:"{k}"}),", ",(0,s.jsx)(n.code,{children:"{code1}"})," ponechte beze zm\u011bny."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Vygenerovat nebo obnovit soubory"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Vytvo\u0159it chyb\u011bj\xedc\xed \u0161ablony pro v\u0161echny jazyky: ",(0,s.jsx)(n.code,{children:"npm --prefix website run i18n:stubs"})]}),"\n",(0,s.jsxs)(n.li,{children:["P\u0159epsat \u0161ablony z angli\u010dtiny (po p\u0159id\xe1n\xed nov\xfdch \u0159et\u011bzc\u016f): ",(0,s.jsx)(n.code,{children:"npm --prefix website run i18n:stubs:force"})]}),"\n",(0,s.jsxs)(n.li,{children:["Alternativa pro jedinou lokalizaci: ",(0,s.jsx)(n.code,{children:"npx --prefix website docusaurus write-translations --locale <locale>"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"P\u0159elo\u017eit \u0159et\u011bzce UI domovsk\xe9 str\xe1nky/navigace/pati\u010dky (OpenAI)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Nastavte p\u0159ihla\u0161ovac\xed \xfadaje jednou (shell nebo .env):"}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"export OPENAI_API_KEY=sk-..."})}),"\n",(0,s.jsxs)(n.li,{children:["Voliteln\xe9: ",(0,s.jsx)(n.code,{children:"export OPENAI_MODEL=gpt-4o-mini"})]}),"\n",(0,s.jsxs)(n.li,{children:["Jednor\xe1zov\u011b (v\u0161echny jazyky, krom\u011b en): ",(0,s.jsx)(n.code,{children:"make translate_web_index"})]}),"\n",(0,s.jsxs)(n.li,{children:["Omezit na konkr\xe9tn\xed jazyky: ",(0,s.jsx)(n.code,{children:'make translate_web_index OPTS="--locales de,fr"'})]}),"\n",(0,s.jsxs)(n.li,{children:["P\u0159epsat existuj\xedc\xed hodnoty: ",(0,s.jsx)(n.code,{children:'make translate_web_index OPTS="--force"'})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Validace a opakov\xe1n\xed"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"P\u0159ekladov\xfd skript validuje tvar JSON, zachov\xe1v\xe1 z\xe1stupn\xe9 symboly v slo\u017een\xfdch z\xe1vork\xe1ch a zaji\u0161\u0165uje nezm\u011bn\u011bn\xe9 URL."}),"\n",(0,s.jsx)(n.li,{children:"P\u0159i selh\xe1n\xed validace provede a\u017e 2 opakov\xe1n\xed s\u202ffeedbackem, ne\u017e ponech\xe1 st\xe1vaj\xedc\xed hodnoty."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"N\xe1hled va\u0161\xed lokalizace"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Dev server: ",(0,s.jsx)(n.code,{children:"npm --prefix website run start"})]}),"\n",(0,s.jsxs)(n.li,{children:["Nav\u0161tivte ",(0,s.jsx)(n.code,{children:"http://localhost:3000/<locale>/Thunderbird-Reply-with-Attachments/"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Odesl\xe1n\xed"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Otev\u0159ete PR s upraven\xfdm(i) souborem/soubory ",(0,s.jsx)(n.code,{children:"code.json"}),". Udr\u017eujte zm\u011bny zam\u011b\u0159en\xe9 a pokud mo\u017eno p\u0159ilo\u017ete rychl\xfd sn\xedmek obrazovky."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"security-and-configuration-tips",children:"Tipy k zabezpe\u010den\xed a konfiguraci"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Necommitujte ",(0,s.jsx)(n.code,{children:"sources/manifest.json"})," (vytvo\u0159en do\u010dasn\u011b b\u011bhem buildu)"]}),"\n",(0,s.jsxs)(n.li,{children:["Udr\u017eujte ",(0,s.jsx)(n.code,{children:"browser_specific_settings.gecko.id"})," stabiln\xed pro zachov\xe1n\xed aktualiza\u010dn\xedho kan\xe1lu"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"settings-persistence",children:"Perzistence nastaven\xed"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\xdalo\u017ei\u0161t\u011b: V\u0161echna u\u017eivatelsk\xe1 nastaven\xed jsou v ",(0,s.jsx)(n.code,{children:"storage.local"})," a p\u0159etrv\xe1vaj\xed nap\u0159\xed\u010d aktualizacemi dopl\u0148ku."]}),"\n",(0,s.jsx)(n.li,{children:"Instalace: V\xfdchoz\xed hodnoty se aplikuj\xed pouze tehdy, pokud kl\xed\u010d striktn\u011b chyb\xed (undefined)."}),"\n",(0,s.jsx)(n.li,{children:"Aktualizace: Migrace dopln\xed pouze chyb\u011bj\xedc\xed kl\xed\u010de; existuj\xedc\xed hodnoty se nikdy nep\u0159episuj\xed."}),"\n",(0,s.jsxs)(n.li,{children:["Zna\u010dka sch\xe9matu: ",(0,s.jsx)(n.code,{children:"settingsVersion"})," (aktu\xe1ln\u011b ",(0,s.jsx)(n.code,{children:"1"}),")."]}),"\n",(0,s.jsx)(n.li,{children:"Kl\xed\u010de a v\xfdchoz\xed hodnoty:"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"blacklistPatterns: string[]"})," \u2192 ",(0,s.jsx)(n.code,{children:"['*intern*', '*secret*', '*passwor*']"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"confirmBeforeAdd: boolean"})," \u2192 ",(0,s.jsx)(n.code,{children:"false"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"confirmDefaultChoice: 'yes'|'no'"})," \u2192 ",(0,s.jsx)(n.code,{children:"'yes'"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"warnOnBlacklistExcluded: boolean"})," \u2192 ",(0,s.jsx)(n.code,{children:"true"})]}),"\n",(0,s.jsxs)(n.li,{children:["K\xf3d: viz ",(0,s.jsx)(n.code,{children:"sources/background.js"})," \u2192 ",(0,s.jsx)(n.code,{children:"initializeOrMigrateSettings()"})," a ",(0,s.jsx)(n.code,{children:"SCHEMA_VERSION"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"V\xfdvojov\xfd postup (p\u0159id\xe1n\xed nov\xe9ho nastaven\xed)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Zvy\u0161te ",(0,s.jsx)(n.code,{children:"SCHEMA_VERSION"})," v ",(0,s.jsx)(n.code,{children:"sources/background.js"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["P\u0159idejte nov\xfd kl\xed\u010d + v\xfdchoz\xed hodnotu do objektu ",(0,s.jsx)(n.code,{children:"DEFAULTS"})," v ",(0,s.jsx)(n.code,{children:"initializeOrMigrateSettings()"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"P\u0159i seedov\xe1n\xed v\xfdchoz\xedch hodnot pou\u017eijte pravidlo \u201eonly-if-undefined\u201c; nep\u0159episujte existuj\xedc\xed hodnoty."}),"\n",(0,s.jsxs)(n.li,{children:["Pokud je nastaven\xed viditeln\xe9 u\u017eivateli, zapojte jej v ",(0,s.jsx)(n.code,{children:"sources/options.js"})," a p\u0159idejte lokalizovan\xe9 \u0159et\u011bzce."]}),"\n",(0,s.jsxs)(n.li,{children:["P\u0159idejte/upravte testy (viz ",(0,s.jsx)(n.code,{children:"tests/background.settings.migration.test.js"}),")."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Tipy pro ru\u010dn\xed testov\xe1n\xed"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Simulace \u010dist\xe9 instalace: vyma\u017ete datov\xfd adres\xe1\u0159 roz\u0161\xed\u0159en\xed nebo spus\u0165te s nov\xfdm profilem."}),"\n",(0,s.jsxs)(n.li,{children:["Simulace aktualizace: nastavte ",(0,s.jsx)(n.code,{children:"settingsVersion"})," na ",(0,s.jsx)(n.code,{children:"0"})," v ",(0,s.jsx)(n.code,{children:"storage.local"})," a znovu na\u010dt\u011bte; ov\u011b\u0159te, \u017ee existuj\xedc\xed hodnoty z\u016fstaly nezm\u011bn\u011bny a byly dopln\u011bny jen chyb\u011bj\xedc\xed kl\xed\u010de."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"troubleshooting",children:"\u0158e\u0161en\xed probl\xe9m\u016f"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Ujist\u011bte se, \u017ee Thunderbird je ve verzi 128 ESR nebo nov\u011bj\u0161\xed"}),"\n",(0,s.jsx)(n.li,{children:"Pro probl\xe9my za b\u011bhu pou\u017eijte Chybovou konzoli"}),"\n",(0,s.jsx)(n.li,{children:"Pokud se zd\xe1, \u017ee ulo\u017een\xe1 nastaven\xed nejsou spr\xe1vn\u011b aplikov\xe1na, restartujte Thunderbird a zkuste to znovu. (Thunderbird m\u016f\u017ee mezi relacemi ke\u0161ovat stav; restart zajist\xed na\u010dten\xed \u010derstv\xfdch nastaven\xed.)"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"ci-and-coverage",children:"CI a pokryt\xed"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["GitHub Actions (",(0,s.jsx)(n.code,{children:"CI \u2014 Tests"}),") spou\u0161t\xed vitest s prahy pokryt\xed (85 % \u0159\xe1dk\u016f/funkc\xed/v\u011btv\xed/v\xfdrok\u016f). Pokud nejsou prahy spln\u011bny, \xfaloha sel\u017ee."]}),"\n",(0,s.jsxs)(n.li,{children:["Workflow nahr\xe1v\xe1 artefakt ",(0,s.jsx)(n.code,{children:"coverage-html"})," s HTML reportem; st\xe1hn\u011bte jej ze str\xe1nky b\u011bhu (Actions \u2192 posledn\xed b\u011bh \u2192 Artifacts)."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"contributing",children:"P\u0159isp\xedv\xe1n\xed"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Viz CONTRIBUTING.md pro pravidla pro v\u011btve/commity/PR"}),"\n",(0,s.jsx)(n.li,{children:"Tip: Pro testov\xe1n\xed si vytvo\u0159te samostatn\xfd v\xfdvojov\xfd profil Thunderbirdu, abyste neovlivnili sv\u016fj denn\xed profil."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"p\u0159eklady",children:"P\u0159eklady"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Spou\u0161t\u011bn\xed velk\xfdch p\u0159ekladov\xfdch \xfaloh \u201ev\u0161e \u2192 v\u0161e\u201c m\u016f\u017ee b\xfdt pomal\xe9 a n\xe1kladn\xe9. Za\u010dn\u011bte s podmno\u017einou (nap\u0159. p\xe1r dokument\u016f a 1\u20132 jazyky), v\xfdsledek zkontrolujte a teprve pak rozsah roz\u0161i\u0159te."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Politika opakov\xe1n\xed: p\u0159ekladov\xe9 \xfalohy provedou a\u017e 3 pokusy s exponenci\xe1ln\xedm zpo\u017e\u010fov\xe1n\xedm p\u0159i chyb\xe1ch API; viz ",(0,s.jsx)(n.code,{children:"scripts/translate_web_docs_batch.js"})," a ",(0,s.jsx)(n.code,{children:"scripts/translate_web_docs_sync.js"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Sn\xedmky obrazovky pro dokumentaci"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Obr\xe1zky ukl\xe1dejte pod ",(0,s.jsx)(n.code,{children:"website/static/img/"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Odkazujte na n\u011b v MD/MDX p\u0159es ",(0,s.jsx)(n.code,{children:"useBaseUrl('/img/<filename>')"}),", aby cesty fungovaly s ",(0,s.jsx)(n.code,{children:"baseUrl"})," webu."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Po p\u0159id\xe1n\xed nebo p\u0159ejmenov\xe1n\xed obr\xe1zk\u016f pod ",(0,s.jsx)(n.code,{children:"website/static/img/"})," ov\u011b\u0159te, \u017ee v\u0161echny odkazy st\xe1le pou\u017e\xedvaj\xed ",(0,s.jsx)(n.code,{children:"useBaseUrl('/img/\u2026')"})," a renderuj\xed se v m\xedstn\xedm n\xe1hledu.\nFavikony"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["V\xedcevelikostn\xed ",(0,s.jsx)(n.code,{children:"favicon.ico"})," se generuje automaticky ve v\u0161ech build cest\xe1ch (Make + skripty) p\u0159es ",(0,s.jsx)(n.code,{children:"website/scripts/build-favicon.mjs"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Nen\xed pot\u0159eba \u017e\xe1dn\xfd ru\u010dn\xed krok; sta\u010d\xed aktualizovat ",(0,s.jsx)(n.code,{children:"icon-*.png"}),".\nTip pro kontrolu"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Ponechte front\u2011matter ",(0,s.jsx)(n.code,{children:"id"})," v p\u0159elo\u017een\xfdch dokumentech beze zm\u011bny; p\u0159ekl\xe1dejte pouze ",(0,s.jsx)(n.code,{children:"title"})," a ",(0,s.jsx)(n.code,{children:"sidebar_label"}),", pokud jsou p\u0159\xedtomny."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"mt-clean",children:"clean"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\xda\u010del: odstranit lok\xe1ln\xed artefakty buildu/preview."}),"\n",(0,s.jsxs)(n.li,{children:["Pou\u017eit\xed: ",(0,s.jsx)(n.code,{children:"make clean"})]}),"\n",(0,s.jsx)(n.li,{children:"Odstran\xed (pokud existuje):"}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"tmp/"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"web-local-preview/"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"website/build/"})}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"mt-commit",children:"commit"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\xda\u010del: form\xe1tovat, testovat, aktualizovat changelog, commitnout a pushnout."}),"\n",(0,s.jsxs)(n.li,{children:["Pou\u017eit\xed: ",(0,s.jsx)(n.code,{children:"make commit"})]}),"\n",(0,s.jsxs)(n.li,{children:["Podrobnosti: spust\xed Prettier (z\xe1pis), ",(0,s.jsx)(n.code,{children:"make test"}),", ",(0,s.jsx)(n.code,{children:"make test_i18n"}),"; p\u0159ipoj\xed z\xe1znam do changelogu, pokud jsou staged rozd\xedly; pushne do ",(0,s.jsx)(n.code,{children:"origin/<branch>"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"mt-eslint",children:"eslint"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\xda\u010del: spustit ESLint p\u0159es flat config."}),"\n",(0,s.jsxs)(n.li,{children:["Pou\u017eit\xed: ",(0,s.jsx)(n.code,{children:"make eslint"})]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"mt-help",children:"help"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\xda\u010del: vypsat v\u0161echny c\xedle s jedno\u0159\xe1dkovou dokumentac\xed."}),"\n",(0,s.jsxs)(n.li,{children:["Pou\u017eit\xed: ",(0,s.jsx)(n.code,{children:"make help"})]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"mt-lint",children:"lint"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\xda\u010del: lintovat MailExtension pomoc\xed ",(0,s.jsx)(n.code,{children:"web-ext"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Pou\u017eit\xed: ",(0,s.jsx)(n.code,{children:"make lint"})]}),"\n",(0,s.jsxs)(n.li,{children:["Pozn\xe1mky: do\u010dasn\u011b kop\xedruje ",(0,s.jsx)(n.code,{children:"sources/manifest_LOCAL.json"})," \u2192 ",(0,s.jsx)(n.code,{children:"sources/manifest.json"}),"; ignoruje sestaven\xe9 ZIPy; varov\xe1n\xed neukon\u010d\xed pipeline."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"mt-menu",children:"menu"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\xda\u010del: interaktivn\xed menu pro v\xfdb\u011br Make c\xedle a voliteln\xfdch argument\u016f."}),"\n",(0,s.jsxs)(n.li,{children:["Pou\u017eit\xed: spus\u0165te ",(0,s.jsx)(n.code,{children:"make"})," bez argument\u016f."]}),"\n",(0,s.jsxs)(n.li,{children:["Pozn\xe1mky: pokud nen\xed dostupn\xfd ",(0,s.jsx)(n.code,{children:"whiptail"}),", menu spadne na ",(0,s.jsx)(n.code,{children:"make help"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"mt-pack",children:"pack"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\xda\u010del: sestavit ATN a LOCAL ZIPy (z\xe1vis\xed na ",(0,s.jsx)(n.code,{children:"lint"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:["Pou\u017eit\xed: ",(0,s.jsx)(n.code,{children:"make pack"})]}),"\n",(0,s.jsxs)(n.li,{children:["Tip: p\u0159ed balen\xedm zvy\u0161te verze v obou ",(0,s.jsx)(n.code,{children:"sources/manifest_*.json"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"mt-prettier",children:"prettier"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\xda\u010del: naform\xe1tovat repozit\xe1\u0159 na m\xedst\u011b."}),"\n",(0,s.jsxs)(n.li,{children:["Pou\u017eit\xed: ",(0,s.jsx)(n.code,{children:"make prettier"})]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"mt-prettier_check",children:"prettier_check"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\xda\u010del: ov\u011b\u0159it form\xe1tov\xe1n\xed (bez z\xe1pisu)."}),"\n",(0,s.jsxs)(n.li,{children:["Pou\u017eit\xed: ",(0,s.jsx)(n.code,{children:"make prettier_check"})]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"mt-prettier_write",children:"prettier_write"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\xda\u010del: alias pro ",(0,s.jsx)(n.code,{children:"prettier"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Pou\u017eit\xed: ",(0,s.jsx)(n.code,{children:"make prettier_write"})]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"mt-test",children:"test"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\xda\u010del: spustit Prettier (z\xe1pis), ESLint a pot\xe9 Vitest (coverage, pokud je nainstalov\xe1n)."}),"\n",(0,s.jsxs)(n.li,{children:["Pou\u017eit\xed: ",(0,s.jsx)(n.code,{children:"make test"})]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"mt-test_i18n",children:"test_i18n"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\xda\u010del: testy zam\u011b\u0159en\xe9 na i18n pro \u0159et\u011bzce dopl\u0148ku a webov\xe9 dokumenty."}),"\n",(0,s.jsxs)(n.li,{children:["Pou\u017eit\xed: ",(0,s.jsx)(n.code,{children:"make test_i18n"})]}),"\n",(0,s.jsxs)(n.li,{children:["Spou\u0161t\xed: ",(0,s.jsx)(n.code,{children:"npm run test:i18n"})," a ",(0,s.jsx)(n.code,{children:"npm run -s test:website-i18n"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"mt-translation-app",children:"translate_app / translation_app"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\xda\u010del: p\u0159elo\u017eit \u0159et\u011bzce UI dopl\u0148ku z EN do dal\u0161\xedch lokalizac\xed."}),"\n",(0,s.jsxs)(n.li,{children:["Pou\u017eit\xed: ",(0,s.jsx)(n.code,{children:'make translation_app OPTS="--locales all|de,fr"'})]}),"\n",(0,s.jsxs)(n.li,{children:["Pozn\xe1mky: zachov\xe1v\xe1 strukturu kl\xed\u010d\u016f a z\xe1stupn\xe9 symboly; loguje do ",(0,s.jsx)(n.code,{children:"translation_app.log"}),". Podoba skriptu: ",(0,s.jsx)(n.code,{children:"node scripts/translate_app.js --locales \u2026"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"mt-translation-web",children:"translate_web_docs_batch / translate_web_docs_sync"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\xda\u010del: p\u0159elo\u017eit webov\xe9 dokumenty z ",(0,s.jsx)(n.code,{children:"website/docs/*.md"})," do ",(0,s.jsx)(n.code,{children:"website/i18n/<locale>/..."}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Preferov\xe1no: ",(0,s.jsx)(n.code,{children:"translate_web_docs_batch"})," (OpenAI Batch API)","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Pou\u017eit\xed (flagy): ",(0,s.jsx)(n.code,{children:'make translate_web_docs_batch OPTS="--files <doc1,doc2|all> --locales <lang1,lang2|all>"'})]}),"\n",(0,s.jsxs)(n.li,{children:["St\xe1le je p\u0159ijata i legacy pozi\u010dn\xed syntaxe: ",(0,s.jsx)(n.code,{children:'OPTS="<doc|all> <lang|all>"'})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Chov\xe1n\xed: sestav\xed JSONL, nahraje, ka\u017ed\xfdch 30 s polluje, st\xe1hne v\xfdsledky, zap\xed\u0161e soubory."}),"\n",(0,s.jsx)(n.li,{children:"Pozn.: batch \xfaloha m\u016f\u017ee trvat a\u017e 24 hodin (dle okna OpenAI batch). Konzole p\u0159i ka\u017ed\xe9m pollu ukazuje uplynul\xfd \u010das."}),"\n",(0,s.jsxs)(n.li,{children:["Prost\u0159ed\xed: ",(0,s.jsx)(n.code,{children:"OPENAI_API_KEY"})," (povinn\xe9), voliteln\u011b ",(0,s.jsx)(n.code,{children:"OPENAI_MODEL"}),", ",(0,s.jsx)(n.code,{children:"OPENAI_TEMPERATURE"}),", ",(0,s.jsx)(n.code,{children:"OPENAI_BATCH_WINDOW"})," (v\xfdchoz\xed 24 h), ",(0,s.jsx)(n.code,{children:"BATCH_POLL_INTERVAL_MS"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Legacy: ",(0,s.jsx)(n.code,{children:"translate_web_docs_sync"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Pou\u017eit\xed (flagy): ",(0,s.jsx)(n.code,{children:'make translate_web_docs_sync OPTS="--files <doc1,doc2|all> --locales <lang1,lang2|all>"'})]}),"\n",(0,s.jsxs)(n.li,{children:["St\xe1le je p\u0159ijata i legacy pozi\u010dn\xed syntaxe: ",(0,s.jsx)(n.code,{children:'OPTS="<doc|all> <lang|all>"'})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Chov\xe1n\xed: synchronn\xed po\u017eadavky po dvojic\xedch (bez batch agregace)."}),"\n",(0,s.jsxs)(n.li,{children:["Pozn\xe1mky: Interaktivn\xed v\xfdzvy, pokud je vynech\xe1n ",(0,s.jsx)(n.code,{children:"OPTS"}),". Oba re\u017eimy zachov\xe1vaj\xed bloky/inline k\xf3du a ponech\xe1vaj\xed front\u2011matter ",(0,s.jsx)(n.code,{children:"id"})," beze zm\u011bny; loguj\xed do ",(0,s.jsx)(n.code,{children:"translation_web_batch.log"})," (batch) nebo ",(0,s.jsx)(n.code,{children:"translation_web_sync.log"})," (sync)."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"mt-translation_web_index",children:"translate_web_index / translation_web_index"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\xda\u010del: p\u0159elo\u017eit \u0159et\u011bzce UI webu (domovsk\xe1 str\xe1nka, navigace, pati\u010dka) z ",(0,s.jsx)(n.code,{children:"website/i18n/en/code.json"})," do v\u0161ech lokalizac\xed pod ",(0,s.jsx)(n.code,{children:"website/i18n/<locale>/code.json"})," (krom\u011b ",(0,s.jsx)(n.code,{children:"en"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:["Pou\u017eit\xed: ",(0,s.jsx)(n.code,{children:"make translate_web_index"})," nebo ",(0,s.jsx)(n.code,{children:'make translate_web_index OPTS="--locales de,fr [--force]"'})]}),"\n",(0,s.jsxs)(n.li,{children:["Po\u017eadavky: exportujte ",(0,s.jsx)(n.code,{children:"OPENAI_API_KEY"})," (voliteln\u011b: ",(0,s.jsx)(n.code,{children:"OPENAI_MODEL=gpt-4o-mini"}),")."]}),"\n",(0,s.jsx)(n.li,{children:"Chov\xe1n\xed: validuje strukturu JSON, zachov\xe1v\xe1 z\xe1stupn\xe9 symboly ve slo\u017een\xfdch z\xe1vork\xe1ch, ponech\xe1v\xe1 URL beze zm\u011bny a p\u0159i valida\u010dn\xedch chyb\xe1ch opakuje s\u202ffeedbackem."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"mt-web_build",children:"web_build"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\xda\u010del: sestavit web s dokumentac\xed do ",(0,s.jsx)(n.code,{children:"website/build"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Pou\u017eit\xed: ",(0,s.jsx)(n.code,{children:'make web_build OPTS="--locales en|de,en|all"'})," (nebo nastavte ",(0,s.jsx)(n.code,{children:'BUILD_LOCALES="en de"'}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["Vnit\u0159nosti: ",(0,s.jsx)(n.code,{children:"node ./node_modules/@docusaurus/core/bin/docusaurus.mjs build [--locale \u2026]"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Z\xe1vislosti: spust\xed ",(0,s.jsx)(n.code,{children:"npm ci"})," v ",(0,s.jsx)(n.code,{children:"website/"})," pouze pokud chyb\xed ",(0,s.jsx)(n.code,{children:"website/node_modules/@docusaurus"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"mt-web_build_linkcheck",children:"web_build_linkcheck"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\xda\u010del: bezpe\u010dn\xe1 kontrola odkaz\u016f offline."}),"\n",(0,s.jsxs)(n.li,{children:["Pou\u017eit\xed: ",(0,s.jsx)(n.code,{children:'make web_build_linkcheck OPTS="--locales en|all"'})]}),"\n",(0,s.jsxs)(n.li,{children:["Pozn\xe1mky: sestav\xed do ",(0,s.jsx)(n.code,{children:"tmp_linkcheck_web_pages"}),"; p\u0159ep\xed\u0161e GH Pages ",(0,s.jsx)(n.code,{children:"baseUrl"})," na ",(0,s.jsx)(n.code,{children:"/"}),"; p\u0159eskakuje vzd\xe1len\xe9 HTTP(S) odkazy."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"mt-web_build_local_preview",children:"web_build_local_preview"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\xda\u010del: m\xedstn\xed n\xe1hled gh\u2011pages s voliteln\xfdmi testy/kontrolou odkaz\u016f."}),"\n",(0,s.jsxs)(n.li,{children:["Pou\u017eit\xed: ",(0,s.jsx)(n.code,{children:'make web_build_local_preview OPTS="--locales en|all [--no-test] [--no-link-check] [--dry-run] [--no-serve]"'})]}),"\n",(0,s.jsxs)(n.li,{children:["Chov\xe1n\xed: nejprve se pokus\xed o Node preview server (",(0,s.jsx)(n.code,{children:"scripts/preview-server.mjs"}),", podporuje ",(0,s.jsx)(n.code,{children:"/__stop"}),"), pot\xe9 spadne na ",(0,s.jsx)(n.code,{children:"python3 -m http.server"}),"; serv\xedruje na 8080\u20138090; PID na ",(0,s.jsx)(n.code,{children:"web-local-preview/.server.pid"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"mt-web_push_github",children:"web_push_github"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\xda\u010del: odeslat ",(0,s.jsx)(n.code,{children:"website/build"})," do v\u011btve ",(0,s.jsx)(n.code,{children:"gh-pages"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Pou\u017eit\xed: ",(0,s.jsx)(n.code,{children:"make web_push_github"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Tip: nastavte ",(0,s.jsx)(n.code,{children:"NPM=\u2026"})," pro p\u0159eps\xe1n\xed spr\xe1vce bal\xed\u010dk\u016f pou\u017e\xedvan\xe9ho v Makefile (v\xfdchoz\xed je ",(0,s.jsx)(n.code,{children:"npm"}),")."]}),"\n",(0,s.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453(e,n,l){l.d(n,{R:()=>r,x:()=>c});var i=l(6540);const s={},d=i.createContext(s);function r(e){const n=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);